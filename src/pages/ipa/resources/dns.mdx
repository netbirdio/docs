export const title = 'DNS'


## List all Nameserver Groups {{ tag: 'GET', label: '/api/dns/nameservers' }}


<Row>
 <Col>
Returns a list of all Nameserver Groups
</Col>
 <Col sticky>
<CodeGroup title="Request" tag="GET" label="/api/dns/nameservers" >
```bash {{ title: 'cURL' }}
curl -X GET https://api.netbird.io/api/dns/nameservers \
-H 'Accept: application/json' \
-H 'Authorization: Token <TOKEN>' 
```
</CodeGroup>
<CodeGroup title="Response" >
```json {{ title: 'Example' }}
[
  {
    "id": "ch8i4ug6lnn4g9hqv7m0",
    "name": "Google DNS",
    "description": "Google DNS servers",
    "nameservers": [
      {
        "ip": "8.8.8.8",
        "ns_type": "udp",
        "port": 53
      }
    ],
    "enabled": true,
    "groups": [
      "ch8i4ug6lnn4g9hqv7m0"
    ],
    "primary": true,
    "domains": [
      "example.com"
    ],
    "search_domains_enabled": true
  }
]
```

```json {{ title: 'Schema' }}
[
  {
    "id": "string",
    "name": "string",
    "description": "string",
    "nameservers": [
      {
        "ip": "string",
        "ns_type": "string",
        "port": "integer"
      }
    ],
    "enabled": "boolean",
    "groups": [
      "string"
    ],
    "primary": "boolean",
    "domains": [
      "string"
    ],
    "search_domains_enabled": "boolean"
  }
]
```
</CodeGroup>

</Col>

</Row>

---



## Create a Nameserver Group {{ tag: 'POST', label: '/api/dns/nameservers' }}


<Row>
 <Col>
Creates a Nameserver Group

### Request-Body Parameters


<Properties>
<Property name="name" type="string" required={true} minLen={1} maxLen={40} >
Name of nameserver group name
</Property>
<Property name="description" type="string" required={true} >
Description of the nameserver group
</Property>
<Property name="nameservers" type="object[]" required={true} minLen={1} maxLen={3} >
 <details class="custom-details" open>

<summary>Nameserver list</summary>
<Properties>
<Property name="ip" type="string" required={true} >
Nameserver IP
</Property>
<Property name="ns_type" type="string" required={true} >
Nameserver Type
</Property>
<Property name="port" type="integer" required={true} >
Nameserver Port
</Property>

</Properties>

</details>

</Property>
<Property name="enabled" type="boolean" required={true} >
Nameserver group status
</Property>
<Property name="groups" type="string[]" required={true} >
Distribution group IDs that defines group of peers that will use this nameserver group
</Property>
<Property name="primary" type="boolean" required={true} >
Defines if a nameserver group is primary that resolves all domains. It should be true only if domains list is empty.
</Property>
<Property name="domains" type="string[]" required={true} >
Match domain list. It should be empty only if primary is true.
</Property>
<Property name="search_domains_enabled" type="boolean" required={true} >
Search domain status for match domains. It should be true only if domains list is not empty.
</Property>

</Properties>

</Col>
 <Col sticky>
<CodeGroup title="Request" tag="POST" label="/api/dns/nameservers" >
```bash {{ title: 'cURL' }}
curl -X POST https://api.netbird.io/api/dns/nameservers \
-H 'Authorization: Token <TOKEN>' \
-H 'Accept: application/json' \
-H 'Content-Type: application/json' \
--data-raw '{
  "name": "Google DNS",
  "description": "Google DNS servers",
  "nameservers": [
    {
      "ip": "8.8.8.8",
      "ns_type": "udp",
      "port": 53
    }
  ],
  "enabled": true,
  "groups": [
    "ch8i4ug6lnn4g9hqv7m0"
  ],
  "primary": true,
  "domains": [
    "example.com"
  ],
  "search_domains_enabled": true
}'
```
</CodeGroup>
<CodeGroup title="Response" >
```json {{ title: 'Example' }}
{
  "id": "ch8i4ug6lnn4g9hqv7m0",
  "name": "Google DNS",
  "description": "Google DNS servers",
  "nameservers": [
    {
      "ip": "8.8.8.8",
      "ns_type": "udp",
      "port": 53
    }
  ],
  "enabled": true,
  "groups": [
    "ch8i4ug6lnn4g9hqv7m0"
  ],
  "primary": true,
  "domains": [
    "example.com"
  ],
  "search_domains_enabled": true
}
```

```json {{ title: 'Schema' }}
{
  "id": "string",
  "name": "string",
  "description": "string",
  "nameservers": [
    {
      "ip": "string",
      "ns_type": "string",
      "port": "integer"
    }
  ],
  "enabled": "boolean",
  "groups": [
    "string"
  ],
  "primary": "boolean",
  "domains": [
    "string"
  ],
  "search_domains_enabled": "boolean"
}
```
</CodeGroup>

</Col>

</Row>

---



## Retrieve a Nameserver Group {{ tag: 'GET', label: '/api/dns/nameservers/{nsgroupId}' }}


<Row>
 <Col>
Get information about a Nameserver Groups

### Path Parameters


<Properties>
<Property name="nsgroupId" type="string" required={true} >
The unique identifier of a Nameserver Group
</Property>

</Properties>

</Col>
 <Col sticky>
<CodeGroup title="Request" tag="GET" label="/api/dns/nameservers/{nsgroupId}" >
```bash {{ title: 'cURL' }}
curl -X GET https://api.netbird.io/api/dns/nameservers/{nsgroupId} \
-H 'Accept: application/json' \
-H 'Authorization: Token <TOKEN>' 
```
</CodeGroup>
<CodeGroup title="Response" >
```json {{ title: 'Example' }}
{
  "id": "ch8i4ug6lnn4g9hqv7m0",
  "name": "Google DNS",
  "description": "Google DNS servers",
  "nameservers": [
    {
      "ip": "8.8.8.8",
      "ns_type": "udp",
      "port": 53
    }
  ],
  "enabled": true,
  "groups": [
    "ch8i4ug6lnn4g9hqv7m0"
  ],
  "primary": true,
  "domains": [
    "example.com"
  ],
  "search_domains_enabled": true
}
```

```json {{ title: 'Schema' }}
{
  "id": "string",
  "name": "string",
  "description": "string",
  "nameservers": [
    {
      "ip": "string",
      "ns_type": "string",
      "port": "integer"
    }
  ],
  "enabled": "boolean",
  "groups": [
    "string"
  ],
  "primary": "boolean",
  "domains": [
    "string"
  ],
  "search_domains_enabled": "boolean"
}
```
</CodeGroup>

</Col>

</Row>

---



## Update a Nameserver Group {{ tag: 'PUT', label: '/api/dns/nameservers/{nsgroupId}' }}


<Row>
 <Col>
Update/Replace a Nameserver Group

### Path Parameters


<Properties>
<Property name="nsgroupId" type="string" required={true} >
The unique identifier of a Nameserver Group
</Property>

</Properties>


### Request-Body Parameters


<Properties>
<Property name="name" type="string" required={true} minLen={1} maxLen={40} >
Name of nameserver group name
</Property>
<Property name="description" type="string" required={true} >
Description of the nameserver group
</Property>
<Property name="nameservers" type="object[]" required={true} minLen={1} maxLen={3} >
 <details class="custom-details" open>

<summary>Nameserver list</summary>
<Properties>
<Property name="ip" type="string" required={true} >
Nameserver IP
</Property>
<Property name="ns_type" type="string" required={true} >
Nameserver Type
</Property>
<Property name="port" type="integer" required={true} >
Nameserver Port
</Property>

</Properties>

</details>

</Property>
<Property name="enabled" type="boolean" required={true} >
Nameserver group status
</Property>
<Property name="groups" type="string[]" required={true} >
Distribution group IDs that defines group of peers that will use this nameserver group
</Property>
<Property name="primary" type="boolean" required={true} >
Defines if a nameserver group is primary that resolves all domains. It should be true only if domains list is empty.
</Property>
<Property name="domains" type="string[]" required={true} >
Match domain list. It should be empty only if primary is true.
</Property>
<Property name="search_domains_enabled" type="boolean" required={true} >
Search domain status for match domains. It should be true only if domains list is not empty.
</Property>

</Properties>

</Col>
 <Col sticky>
<CodeGroup title="Request" tag="PUT" label="/api/dns/nameservers/{nsgroupId}" >
```bash {{ title: 'cURL' }}
curl -X PUT https://api.netbird.io/api/dns/nameservers/{nsgroupId} \
-H 'Authorization: Token <TOKEN>' \
-H 'Accept: application/json' \
-H 'Content-Type: application/json' \
--data-raw '{
  "name": "Google DNS",
  "description": "Google DNS servers",
  "nameservers": [
    {
      "ip": "8.8.8.8",
      "ns_type": "udp",
      "port": 53
    }
  ],
  "enabled": true,
  "groups": [
    "ch8i4ug6lnn4g9hqv7m0"
  ],
  "primary": true,
  "domains": [
    "example.com"
  ],
  "search_domains_enabled": true
}'
```
</CodeGroup>
<CodeGroup title="Response" >
```json {{ title: 'Example' }}
{
  "id": "ch8i4ug6lnn4g9hqv7m0",
  "name": "Google DNS",
  "description": "Google DNS servers",
  "nameservers": [
    {
      "ip": "8.8.8.8",
      "ns_type": "udp",
      "port": 53
    }
  ],
  "enabled": true,
  "groups": [
    "ch8i4ug6lnn4g9hqv7m0"
  ],
  "primary": true,
  "domains": [
    "example.com"
  ],
  "search_domains_enabled": true
}
```

```json {{ title: 'Schema' }}
{
  "id": "string",
  "name": "string",
  "description": "string",
  "nameservers": [
    {
      "ip": "string",
      "ns_type": "string",
      "port": "integer"
    }
  ],
  "enabled": "boolean",
  "groups": [
    "string"
  ],
  "primary": "boolean",
  "domains": [
    "string"
  ],
  "search_domains_enabled": "boolean"
}
```
</CodeGroup>

</Col>

</Row>

---



## Delete a Nameserver Group {{ tag: 'DELETE', label: '/api/dns/nameservers/{nsgroupId}' }}


<Row>
 <Col>
Delete a Nameserver Group

### Path Parameters


<Properties>
<Property name="nsgroupId" type="string" required={true} >
The unique identifier of a Nameserver Group
</Property>

</Properties>

</Col>
 <Col sticky>
<CodeGroup title="Request" tag="DELETE" label="/api/dns/nameservers/{nsgroupId}" >
```bash {{ title: 'cURL' }}
curl -X DELETE https://api.netbird.io/api/dns/nameservers/{nsgroupId} \
-H 'Authorization: Token <TOKEN>' \
```
</CodeGroup>

</Col>

</Row>

---



## Retrieve DNS settings {{ tag: 'GET', label: '/api/dns/settings' }}


<Row>
 <Col>
Returns a DNS settings object
</Col>
 <Col sticky>
<CodeGroup title="Request" tag="GET" label="/api/dns/settings" >
```bash {{ title: 'cURL' }}
curl -X GET https://api.netbird.io/api/dns/settings \
-H 'Accept: application/json' \
-H 'Authorization: Token <TOKEN>' 
```
</CodeGroup>
<CodeGroup title="Response" >
```json {{ title: 'Example' }}
[
  {
    "disabled_management_groups": [
      "ch8i4ug6lnn4g9hqv7m0"
    ]
  }
]
```

```json {{ title: 'Schema' }}
[
  {
    "disabled_management_groups": [
      "string"
    ]
  }
]
```
</CodeGroup>

</Col>

</Row>

---



## Update DNS Settings {{ tag: 'PUT', label: '/api/dns/settings' }}


<Row>
 <Col>
Updates a DNS settings object

### Request-Body Parameters


<Properties>
<Property name="disabled_management_groups" type="string[]" required={true} >
Groups whose DNS management is disabled
</Property>

</Properties>

</Col>
 <Col sticky>
<CodeGroup title="Request" tag="PUT" label="/api/dns/settings" >
```bash {{ title: 'cURL' }}
curl -X PUT https://api.netbird.io/api/dns/settings \
-H 'Authorization: Token <TOKEN>' \
-H 'Accept: application/json' \
-H 'Content-Type: application/json' \
--data-raw '{
  "disabled_management_groups": [
    "ch8i4ug6lnn4g9hqv7m0"
  ]
}'
```
</CodeGroup>
<CodeGroup title="Response" >
```json {{ title: 'Example' }}
{
  "disabled_management_groups": [
    "ch8i4ug6lnn4g9hqv7m0"
  ]
}
```

```json {{ title: 'Schema' }}
{
  "disabled_management_groups": [
    "string"
  ]
}
```
</CodeGroup>

</Col>

</Row>

---
