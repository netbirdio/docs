export const title = 'Accounts'


## List all Accounts {{ tag: 'GET', label: '/api/accounts' }}


<Row>

<Col>
Returns a list of accounts of a user. Always returns a list of one account.
</Col>

<Col sticky>
<CodeGroup title="Request" tag="GET" label="/api/accounts" >
```bash {{ title: 'cURL' }}
curl -X GET https://api.netbird.io/api/accounts \
-H 'Accept: application/json' \
-H 'Authorization: Token <TOKEN>' 
```
</CodeGroup>
<CodeGroup title="Response" >
```json {{ title: 'Example' }}
[
  {
    "id": "ch8i4ug6lnn4g9hqv7l0",
    "settings": {
      "peer_login_expiration_enabled": true,
      "peer_login_expiration": 43200,
      "peer_inactivity_expiration_enabled": true,
      "peer_inactivity_expiration": 43200,
      "regular_users_view_blocked": true,
      "groups_propagation_enabled": true,
      "jwt_groups_enabled": true,
      "jwt_groups_claim_name": "roles",
      "jwt_allow_groups": [
        "Administrators"
      ],
      "routing_peer_dns_resolution_enabled": true,
      "dns_domain": "my-organization.org",
      "network_range": "100.64.0.0/16",
      "extra": {
        "peer_approval_enabled": true,
        "user_approval_required": false,
        "network_traffic_logs_enabled": true,
        "network_traffic_logs_groups": [
          "ch8i4ug6lnn4g9hqv7m0"
        ],
        "network_traffic_packet_counter_enabled": true
      },
      "lazy_connection_enabled": true
    },
    "domain": "netbird.io",
    "domain_category": "private",
    "created_at": "2023-05-05T09:00:35.477782Z",
    "created_by": "google-oauth2|277474792786460067937",
    "onboarding": {
      "signup_form_pending": true,
      "onboarding_flow_pending": false
    }
  }
]
```

```json {{ title: 'Schema' }}
[
  {
    "id": "string",
    "settings": {
      "peer_login_expiration_enabled": "boolean",
      "peer_login_expiration": "integer",
      "peer_inactivity_expiration_enabled": "boolean",
      "peer_inactivity_expiration": "integer",
      "regular_users_view_blocked": "boolean",
      "groups_propagation_enabled": "boolean",
      "jwt_groups_enabled": "boolean",
      "jwt_groups_claim_name": "string",
      "jwt_allow_groups": [
        "string"
      ],
      "routing_peer_dns_resolution_enabled": "boolean",
      "dns_domain": "string",
      "network_range": "string",
      "extra": {
        "peer_approval_enabled": "boolean",
        "user_approval_required": "boolean",
        "network_traffic_logs_enabled": "boolean",
        "network_traffic_logs_groups": [
          "string"
        ],
        "network_traffic_packet_counter_enabled": "boolean"
      },
      "lazy_connection_enabled": "boolean"
    },
    "domain": "string",
    "domain_category": "string",
    "created_at": "string",
    "created_by": "string",
    "onboarding": {
      "signup_form_pending": "boolean",
      "onboarding_flow_pending": "boolean"
    }
  }
]
```
</CodeGroup>

</Col>

</Row>
---



## Update an Account {{ tag: 'PUT', label: '/api/accounts/{accountId}' }}


<Row>

<Col>
Update information about an account

### Path Parameters


<Properties>
<Property name="accountId" type="string" required={true} >
The unique identifier of an account
</Property>

</Properties>


### Request-Body Parameters


<Properties>
<Property name="settings" type="object" required={true} >

<details class="custom-details" open >

<summary>More Information</summary>
<Properties>
<Property name="peer_login_expiration_enabled" type="boolean" required={true} >
Enables or disables peer login expiration globally. After peer's login has expired the user has to log in (authenticate). Applies only to peers that were added by a user (interactive SSO login).
</Property>
<Property name="peer_login_expiration" type="integer" required={true} >
Period of time after which peer login expires (seconds).
</Property>
<Property name="peer_inactivity_expiration_enabled" type="boolean" required={true} >
Enables or disables peer inactivity expiration globally. After peer's session has expired the user has to log in (authenticate). Applies only to peers that were added by a user (interactive SSO login).
</Property>
<Property name="peer_inactivity_expiration" type="integer" required={true} >
Period of time of inactivity after which peer session expires (seconds).
</Property>
<Property name="regular_users_view_blocked" type="boolean" required={true} >
Allows blocking regular users from viewing parts of the system.
</Property>
<Property name="groups_propagation_enabled" type="boolean" >
Allows propagate the new user auto groups to peers that belongs to the user
</Property>
<Property name="jwt_groups_enabled" type="boolean" >
Allows extract groups from JWT claim and add it to account groups.
</Property>
<Property name="jwt_groups_claim_name" type="string" >
Name of the claim from which we extract groups names to add it to account groups.
</Property>
<Property name="jwt_allow_groups" type="string[]" >
List of groups to which users are allowed access
</Property>
<Property name="routing_peer_dns_resolution_enabled" type="boolean" >
Enables or disables DNS resolution on the routing peers
</Property>
<Property name="dns_domain" type="string" >
Allows to define a custom dns domain for the account
</Property>
<Property name="network_range" type="string" >
Allows to define a custom network range for the account in CIDR format
</Property>
<Property name="extra" type="object" >

<details class="custom-details" open >

<summary>More Information</summary>
<Properties>
<Property name="peer_approval_enabled" type="boolean" required={true} >
(Cloud only) Enables or disables peer approval globally. If enabled, all peers added will be in pending state until approved by an admin.
</Property>
<Property name="user_approval_required" type="boolean" required={true} >
Enables manual approval for new users joining via domain matching. When enabled, users are blocked with pending approval status until explicitly approved by an admin.
</Property>
<Property name="network_traffic_logs_enabled" type="boolean" required={true} >
Enables or disables network traffic logging. If enabled, all network traffic events from peers will be stored.
</Property>
<Property name="network_traffic_logs_groups" type="string[]" required={true} >
Limits traffic logging to these groups. If unset all peers are enabled.
</Property>
<Property name="network_traffic_packet_counter_enabled" type="boolean" required={true} >
Enables or disables network traffic packet counter. If enabled, network packets and their size will be counted and reported. (This can have an slight impact on performance)
</Property>

</Properties>

</details>
</Property>
<Property name="lazy_connection_enabled" type="boolean" >
Enables or disables experimental lazy connection
</Property>

</Properties>

</details>
</Property>
<Property name="onboarding" type="object" >

<details class="custom-details" open >

<summary>More Information</summary>
<Properties>
<Property name="signup_form_pending" type="boolean" required={true} >
Indicates whether the account signup form is pending
</Property>
<Property name="onboarding_flow_pending" type="boolean" required={true} >
Indicates whether the account onboarding flow is pending
</Property>

</Properties>

</details>
</Property>

</Properties>

</Col>

<Col sticky>
<CodeGroup title="Request" tag="PUT" label="/api/accounts/{accountId}" >
```bash {{ title: 'cURL' }}
curl -X PUT https://api.netbird.io/api/accounts/{accountId} \
-H 'Authorization: Token <TOKEN>' \
-H 'Accept: application/json' \
-H 'Content-Type: application/json' \
--data-raw '{
  "settings": {
    "peer_login_expiration_enabled": true,
    "peer_login_expiration": 43200,
    "peer_inactivity_expiration_enabled": true,
    "peer_inactivity_expiration": 43200,
    "regular_users_view_blocked": true,
    "groups_propagation_enabled": true,
    "jwt_groups_enabled": true,
    "jwt_groups_claim_name": "roles",
    "jwt_allow_groups": [
      "Administrators"
    ],
    "routing_peer_dns_resolution_enabled": true,
    "dns_domain": "my-organization.org",
    "network_range": "100.64.0.0/16",
    "extra": {
      "peer_approval_enabled": true,
      "user_approval_required": false,
      "network_traffic_logs_enabled": true,
      "network_traffic_logs_groups": [
        "ch8i4ug6lnn4g9hqv7m0"
      ],
      "network_traffic_packet_counter_enabled": true
    },
    "lazy_connection_enabled": true
  },
  "onboarding": {
    "signup_form_pending": true,
    "onboarding_flow_pending": false
  }
}'
```
</CodeGroup>
<CodeGroup title="Response" >
```json {{ title: 'Example' }}
{
  "id": "ch8i4ug6lnn4g9hqv7l0",
  "settings": {
    "peer_login_expiration_enabled": true,
    "peer_login_expiration": 43200,
    "peer_inactivity_expiration_enabled": true,
    "peer_inactivity_expiration": 43200,
    "regular_users_view_blocked": true,
    "groups_propagation_enabled": true,
    "jwt_groups_enabled": true,
    "jwt_groups_claim_name": "roles",
    "jwt_allow_groups": [
      "Administrators"
    ],
    "routing_peer_dns_resolution_enabled": true,
    "dns_domain": "my-organization.org",
    "network_range": "100.64.0.0/16",
    "extra": {
      "peer_approval_enabled": true,
      "user_approval_required": false,
      "network_traffic_logs_enabled": true,
      "network_traffic_logs_groups": [
        "ch8i4ug6lnn4g9hqv7m0"
      ],
      "network_traffic_packet_counter_enabled": true
    },
    "lazy_connection_enabled": true
  },
  "domain": "netbird.io",
  "domain_category": "private",
  "created_at": "2023-05-05T09:00:35.477782Z",
  "created_by": "google-oauth2|277474792786460067937",
  "onboarding": {
    "signup_form_pending": true,
    "onboarding_flow_pending": false
  }
}
```

```json {{ title: 'Schema' }}
{
  "id": "string",
  "settings": {
    "peer_login_expiration_enabled": "boolean",
    "peer_login_expiration": "integer",
    "peer_inactivity_expiration_enabled": "boolean",
    "peer_inactivity_expiration": "integer",
    "regular_users_view_blocked": "boolean",
    "groups_propagation_enabled": "boolean",
    "jwt_groups_enabled": "boolean",
    "jwt_groups_claim_name": "string",
    "jwt_allow_groups": [
      "string"
    ],
    "routing_peer_dns_resolution_enabled": "boolean",
    "dns_domain": "string",
    "network_range": "string",
    "extra": {
      "peer_approval_enabled": "boolean",
      "user_approval_required": "boolean",
      "network_traffic_logs_enabled": "boolean",
      "network_traffic_logs_groups": [
        "string"
      ],
      "network_traffic_packet_counter_enabled": "boolean"
    },
    "lazy_connection_enabled": "boolean"
  },
  "domain": "string",
  "domain_category": "string",
  "created_at": "string",
  "created_by": "string",
  "onboarding": {
    "signup_form_pending": "boolean",
    "onboarding_flow_pending": "boolean"
  }
}
```
</CodeGroup>

</Col>

</Row>
---



## Delete an Account {{ tag: 'DELETE', label: '/api/accounts/{accountId}' }}


<Row>

<Col>
Deletes an account and all its resources. Only account owners can delete accounts.

### Path Parameters


<Properties>
<Property name="accountId" type="string" required={true} >
The unique identifier of an account
</Property>

</Properties>

</Col>

<Col sticky>
<CodeGroup title="Request" tag="DELETE" label="/api/accounts/{accountId}" >
```bash {{ title: 'cURL' }}
curl -X DELETE https://api.netbird.io/api/accounts/{accountId} \
-H 'Authorization: Token <TOKEN>' \
```
</CodeGroup>

</Col>

</Row>
---
