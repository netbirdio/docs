export const title = 'Posture Checks'


## List all Posture Checks {{ tag: 'GET', label: '/api/posture-checks' }}


<Row>

<Col>
Returns a list of all posture checks
</Col>

<Col sticky>
<CodeGroup title="Request" tag="GET" label="/api/posture-checks" >
```bash {{ title: 'cURL' }}
curl -X GET https://api.netbird.io/api/posture-checks \
-H 'Accept: application/json' \
-H 'Authorization: Token <TOKEN>' 
```
</CodeGroup>
<CodeGroup title="Response" >
```json {{ title: 'Example' }}
[
  {
    "id": "ch8i4ug6lnn4g9hqv7mg",
    "name": "Default",
    "description": "This checks if the peer is running required NetBird's version",
    "checks": {
      "nb_version_check": {
        "min_version": "14.3"
      },
      "os_version_check": {
        "android": {
          "min_version": "13"
        },
        "ios": {
          "min_version": "17.3.1"
        },
        "darwin": {
          "min_version": "14.2.1"
        },
        "linux": {
          "min_kernel_version": "5.3.3"
        },
        "windows": {
          "min_kernel_version": "10.0.1234"
        }
      },
      "geo_location_check": {
        "locations": [
          {
            "country_code": "DE",
            "city_name": "Berlin"
          }
        ],
        "action": "allow"
      },
      "peer_network_range_check": {
        "ranges": [
          "192.168.1.0/24",
          "10.0.0.0/8",
          "2001:db8:1234:1a00::/56"
        ],
        "action": "allow"
      },
      "process_check": {
        "processes": [
          {
            "linux_path": "/usr/local/bin/netbird",
            "mac_path": "/Applications/NetBird.app/Contents/MacOS/netbird",
            "windows_path": "C: rogramDataetBird\netbird.exe"
          }
        ]
      }
    }
  }
]
```

```json {{ title: 'Schema' }}
[
  {
    "id": "string",
    "name": "string",
    "description": "string",
    "checks": {
      "nb_version_check": {
        "min_version": "string"
      },
      "os_version_check": {
        "android": {
          "min_version": "string"
        },
        "darwin": {
          "min_version": "string"
        },
        "ios": {
          "min_version": "string"
        },
        "linux": {
          "min_kernel_version": "string"
        },
        "windows": {
          "min_kernel_version": "string"
        }
      },
      "geo_location_check": {
        "locations": [
          {
            "country_code": "string",
            "city_name": "string"
          }
        ],
        "action": "string"
      },
      "peer_network_range_check": {
        "ranges": [
          "string"
        ],
        "action": "string"
      },
      "process_check": {
        "processes": [
          {
            "linux_path": "string",
            "mac_path": "string",
            "windows_path": "string"
          }
        ]
      }
    }
  }
]
```
</CodeGroup>

</Col>

</Row>
---



## Create a Posture Check {{ tag: 'POST', label: '/api/posture-checks' }}


<Row>

<Col>
Creates a posture check

### Request-Body Parameters


<Properties>
<Property name="name" type="string" required={true} >
Posture check name identifier
</Property>
<Property name="description" type="string" required={true} >
Posture check friendly description
</Property>
<Property name="checks" type="object" >

<details class="custom-details" open >

<summary>List of objects that perform the actual checks</summary>
<Properties>
<Property name="nb_version_check" type="object" >

<details class="custom-details" open >

<summary>Posture check for the version of operating system</summary>
<Properties>
<Property name="min_version" type="string" required={true} >
Minimum acceptable version
</Property>

</Properties>

</details>
</Property>
<Property name="os_version_check" type="object" >

<details class="custom-details" open >

<summary>Posture check for the version of operating system</summary>
<Properties>
<Property name="android" type="object" >

<details class="custom-details" open >

<summary>Posture check for the version of operating system</summary>
<Properties>
<Property name="min_version" type="string" required={true} >
Minimum acceptable version
</Property>

</Properties>

</details>
</Property>
<Property name="darwin" type="object" >

<details class="custom-details" open >

<summary>Posture check for the version of operating system</summary>
<Properties>
<Property name="min_version" type="string" required={true} >
Minimum acceptable version
</Property>

</Properties>

</details>
</Property>
<Property name="ios" type="object" >

<details class="custom-details" open >

<summary>Posture check for the version of operating system</summary>
<Properties>
<Property name="min_version" type="string" required={true} >
Minimum acceptable version
</Property>

</Properties>

</details>
</Property>
<Property name="linux" type="object" >

<details class="custom-details" open >

<summary>Posture check with the kernel version</summary>
<Properties>
<Property name="min_kernel_version" type="string" required={true} >
Minimum acceptable version
</Property>

</Properties>

</details>
</Property>
<Property name="windows" type="object" >

<details class="custom-details" open >

<summary>Posture check with the kernel version</summary>
<Properties>
<Property name="min_kernel_version" type="string" required={true} >
Minimum acceptable version
</Property>

</Properties>

</details>
</Property>

</Properties>

</details>
</Property>
<Property name="geo_location_check" type="object" >

<details class="custom-details" open >

<summary>Posture check for geo location</summary>
<Properties>
<Property name="locations" type="object[]" required={true} >

<details class="custom-details" open >

<summary>List of geo locations to which the policy applies</summary>
<Properties>
<Property name="country_code" type="string" required={true} >
2-letter ISO 3166-1 alpha-2 code that represents the country
</Property>
<Property name="city_name" type="string" >
Commonly used English name of the city
</Property>

</Properties>

</details>
</Property>
<Property name="action" type="string" required={true} >
Action to take upon policy match
</Property>

</Properties>

</details>
</Property>
<Property name="peer_network_range_check" type="object" >

<details class="custom-details" open >

<summary>Posture check for allow or deny access based on peer local network addresses</summary>
<Properties>
<Property name="ranges" type="string[]" required={true} >
List of peer network ranges in CIDR notation
</Property>
<Property name="action" type="string" required={true} >
Action to take upon policy match
</Property>

</Properties>

</details>
</Property>
<Property name="process_check" type="object" >

<details class="custom-details" open >

<summary>Posture Check for binaries exist and are running in the peer’s system</summary>
<Properties>
<Property name="processes" type="object[]" required={true} >

<details class="custom-details" open >

<summary>More Information</summary>
<Properties>
<Property name="linux_path" type="string" >
Path to the process executable file in a Linux operating system
</Property>
<Property name="mac_path" type="string" >
Path to the process executable file in a Mac operating system
</Property>
<Property name="windows_path" type="string" >
Path to the process executable file in a Windows operating system
</Property>

</Properties>

</details>
</Property>

</Properties>

</details>
</Property>

</Properties>

</details>
</Property>

</Properties>

</Col>

<Col sticky>
<CodeGroup title="Request" tag="POST" label="/api/posture-checks" >
```bash {{ title: 'cURL' }}
curl -X POST https://api.netbird.io/api/posture-checks \
-H 'Authorization: Token <TOKEN>' \
-H 'Accept: application/json' \
-H 'Content-Type: application/json' \
--data-raw '{
  "name": "Default",
  "description": "This checks if the peer is running required NetBird's version",
  "checks": {
    "nb_version_check": {
      "min_version": "14.3"
    },
    "os_version_check": {
      "android": {
        "min_version": "13"
      },
      "ios": {
        "min_version": "17.3.1"
      },
      "darwin": {
        "min_version": "14.2.1"
      },
      "linux": {
        "min_kernel_version": "5.3.3"
      },
      "windows": {
        "min_kernel_version": "10.0.1234"
      }
    },
    "geo_location_check": {
      "locations": [
        {
          "country_code": "DE",
          "city_name": "Berlin"
        }
      ],
      "action": "allow"
    },
    "peer_network_range_check": {
      "ranges": [
        "192.168.1.0/24",
        "10.0.0.0/8",
        "2001:db8:1234:1a00::/56"
      ],
      "action": "allow"
    },
    "process_check": {
      "processes": [
        {
          "linux_path": "/usr/local/bin/netbird",
          "mac_path": "/Applications/NetBird.app/Contents/MacOS/netbird",
          "windows_path": "C: rogramDataetBird\netbird.exe"
        }
      ]
    }
  }
}'
```
</CodeGroup>
<CodeGroup title="Response" >
```json {{ title: 'Example' }}
{
  "id": "ch8i4ug6lnn4g9hqv7mg",
  "name": "Default",
  "description": "This checks if the peer is running required NetBird's version",
  "checks": {
    "nb_version_check": {
      "min_version": "14.3"
    },
    "os_version_check": {
      "android": {
        "min_version": "13"
      },
      "ios": {
        "min_version": "17.3.1"
      },
      "darwin": {
        "min_version": "14.2.1"
      },
      "linux": {
        "min_kernel_version": "5.3.3"
      },
      "windows": {
        "min_kernel_version": "10.0.1234"
      }
    },
    "geo_location_check": {
      "locations": [
        {
          "country_code": "DE",
          "city_name": "Berlin"
        }
      ],
      "action": "allow"
    },
    "peer_network_range_check": {
      "ranges": [
        "192.168.1.0/24",
        "10.0.0.0/8",
        "2001:db8:1234:1a00::/56"
      ],
      "action": "allow"
    },
    "process_check": {
      "processes": [
        {
          "linux_path": "/usr/local/bin/netbird",
          "mac_path": "/Applications/NetBird.app/Contents/MacOS/netbird",
          "windows_path": "C: rogramDataetBird\netbird.exe"
        }
      ]
    }
  }
}
```

```json {{ title: 'Schema' }}
{
  "id": "string",
  "name": "string",
  "description": "string",
  "checks": {
    "nb_version_check": {
      "min_version": "string"
    },
    "os_version_check": {
      "android": {
        "min_version": "string"
      },
      "darwin": {
        "min_version": "string"
      },
      "ios": {
        "min_version": "string"
      },
      "linux": {
        "min_kernel_version": "string"
      },
      "windows": {
        "min_kernel_version": "string"
      }
    },
    "geo_location_check": {
      "locations": [
        {
          "country_code": "string",
          "city_name": "string"
        }
      ],
      "action": "string"
    },
    "peer_network_range_check": {
      "ranges": [
        "string"
      ],
      "action": "string"
    },
    "process_check": {
      "processes": [
        {
          "linux_path": "string",
          "mac_path": "string",
          "windows_path": "string"
        }
      ]
    }
  }
}
```
</CodeGroup>

</Col>

</Row>
---



## Retrieve a Posture Check {{ tag: 'GET', label: '/api/posture-checks/{postureCheckId}' }}


<Row>

<Col>
Get information about a posture check

### Path Parameters


<Properties>
<Property name="postureCheckId" type="string" required={true} >
The unique identifier of a posture check
</Property>

</Properties>

</Col>

<Col sticky>
<CodeGroup title="Request" tag="GET" label="/api/posture-checks/{postureCheckId}" >
```bash {{ title: 'cURL' }}
curl -X GET https://api.netbird.io/api/posture-checks/{postureCheckId} \
-H 'Accept: application/json' \
-H 'Authorization: Token <TOKEN>' 
```
</CodeGroup>
<CodeGroup title="Response" >
```json {{ title: 'Example' }}
{
  "id": "ch8i4ug6lnn4g9hqv7mg",
  "name": "Default",
  "description": "This checks if the peer is running required NetBird's version",
  "checks": {
    "nb_version_check": {
      "min_version": "14.3"
    },
    "os_version_check": {
      "android": {
        "min_version": "13"
      },
      "ios": {
        "min_version": "17.3.1"
      },
      "darwin": {
        "min_version": "14.2.1"
      },
      "linux": {
        "min_kernel_version": "5.3.3"
      },
      "windows": {
        "min_kernel_version": "10.0.1234"
      }
    },
    "geo_location_check": {
      "locations": [
        {
          "country_code": "DE",
          "city_name": "Berlin"
        }
      ],
      "action": "allow"
    },
    "peer_network_range_check": {
      "ranges": [
        "192.168.1.0/24",
        "10.0.0.0/8",
        "2001:db8:1234:1a00::/56"
      ],
      "action": "allow"
    },
    "process_check": {
      "processes": [
        {
          "linux_path": "/usr/local/bin/netbird",
          "mac_path": "/Applications/NetBird.app/Contents/MacOS/netbird",
          "windows_path": "C: rogramDataetBird\netbird.exe"
        }
      ]
    }
  }
}
```

```json {{ title: 'Schema' }}
{
  "id": "string",
  "name": "string",
  "description": "string",
  "checks": {
    "nb_version_check": {
      "min_version": "string"
    },
    "os_version_check": {
      "android": {
        "min_version": "string"
      },
      "darwin": {
        "min_version": "string"
      },
      "ios": {
        "min_version": "string"
      },
      "linux": {
        "min_kernel_version": "string"
      },
      "windows": {
        "min_kernel_version": "string"
      }
    },
    "geo_location_check": {
      "locations": [
        {
          "country_code": "string",
          "city_name": "string"
        }
      ],
      "action": "string"
    },
    "peer_network_range_check": {
      "ranges": [
        "string"
      ],
      "action": "string"
    },
    "process_check": {
      "processes": [
        {
          "linux_path": "string",
          "mac_path": "string",
          "windows_path": "string"
        }
      ]
    }
  }
}
```
</CodeGroup>

</Col>

</Row>
---



## Update a Posture Check {{ tag: 'PUT', label: '/api/posture-checks/{postureCheckId}' }}


<Row>

<Col>
Update/Replace a posture check

### Path Parameters


<Properties>
<Property name="postureCheckId" type="string" required={true} >
The unique identifier of a posture check
</Property>

</Properties>


### Request-Body Parameters


<Properties>
<Property name="name" type="string" required={true} >
Posture check name identifier
</Property>
<Property name="description" type="string" required={true} >
Posture check friendly description
</Property>
<Property name="checks" type="object" >

<details class="custom-details" open >

<summary>List of objects that perform the actual checks</summary>
<Properties>
<Property name="nb_version_check" type="object" >

<details class="custom-details" open >

<summary>Posture check for the version of operating system</summary>
<Properties>
<Property name="min_version" type="string" required={true} >
Minimum acceptable version
</Property>

</Properties>

</details>
</Property>
<Property name="os_version_check" type="object" >

<details class="custom-details" open >

<summary>Posture check for the version of operating system</summary>
<Properties>
<Property name="android" type="object" >

<details class="custom-details" open >

<summary>Posture check for the version of operating system</summary>
<Properties>
<Property name="min_version" type="string" required={true} >
Minimum acceptable version
</Property>

</Properties>

</details>
</Property>
<Property name="darwin" type="object" >

<details class="custom-details" open >

<summary>Posture check for the version of operating system</summary>
<Properties>
<Property name="min_version" type="string" required={true} >
Minimum acceptable version
</Property>

</Properties>

</details>
</Property>
<Property name="ios" type="object" >

<details class="custom-details" open >

<summary>Posture check for the version of operating system</summary>
<Properties>
<Property name="min_version" type="string" required={true} >
Minimum acceptable version
</Property>

</Properties>

</details>
</Property>
<Property name="linux" type="object" >

<details class="custom-details" open >

<summary>Posture check with the kernel version</summary>
<Properties>
<Property name="min_kernel_version" type="string" required={true} >
Minimum acceptable version
</Property>

</Properties>

</details>
</Property>
<Property name="windows" type="object" >

<details class="custom-details" open >

<summary>Posture check with the kernel version</summary>
<Properties>
<Property name="min_kernel_version" type="string" required={true} >
Minimum acceptable version
</Property>

</Properties>

</details>
</Property>

</Properties>

</details>
</Property>
<Property name="geo_location_check" type="object" >

<details class="custom-details" open >

<summary>Posture check for geo location</summary>
<Properties>
<Property name="locations" type="object[]" required={true} >

<details class="custom-details" open >

<summary>List of geo locations to which the policy applies</summary>
<Properties>
<Property name="country_code" type="string" required={true} >
2-letter ISO 3166-1 alpha-2 code that represents the country
</Property>
<Property name="city_name" type="string" >
Commonly used English name of the city
</Property>

</Properties>

</details>
</Property>
<Property name="action" type="string" required={true} >
Action to take upon policy match
</Property>

</Properties>

</details>
</Property>
<Property name="peer_network_range_check" type="object" >

<details class="custom-details" open >

<summary>Posture check for allow or deny access based on peer local network addresses</summary>
<Properties>
<Property name="ranges" type="string[]" required={true} >
List of peer network ranges in CIDR notation
</Property>
<Property name="action" type="string" required={true} >
Action to take upon policy match
</Property>

</Properties>

</details>
</Property>
<Property name="process_check" type="object" >

<details class="custom-details" open >

<summary>Posture Check for binaries exist and are running in the peer’s system</summary>
<Properties>
<Property name="processes" type="object[]" required={true} >

<details class="custom-details" open >

<summary>More Information</summary>
<Properties>
<Property name="linux_path" type="string" >
Path to the process executable file in a Linux operating system
</Property>
<Property name="mac_path" type="string" >
Path to the process executable file in a Mac operating system
</Property>
<Property name="windows_path" type="string" >
Path to the process executable file in a Windows operating system
</Property>

</Properties>

</details>
</Property>

</Properties>

</details>
</Property>

</Properties>

</details>
</Property>

</Properties>

</Col>

<Col sticky>
<CodeGroup title="Request" tag="PUT" label="/api/posture-checks/{postureCheckId}" >
```bash {{ title: 'cURL' }}
curl -X PUT https://api.netbird.io/api/posture-checks/{postureCheckId} \
-H 'Authorization: Token <TOKEN>' \
-H 'Accept: application/json' \
-H 'Content-Type: application/json' \
--data-raw '{
  "name": "Default",
  "description": "This checks if the peer is running required NetBird's version",
  "checks": {
    "nb_version_check": {
      "min_version": "14.3"
    },
    "os_version_check": {
      "android": {
        "min_version": "13"
      },
      "ios": {
        "min_version": "17.3.1"
      },
      "darwin": {
        "min_version": "14.2.1"
      },
      "linux": {
        "min_kernel_version": "5.3.3"
      },
      "windows": {
        "min_kernel_version": "10.0.1234"
      }
    },
    "geo_location_check": {
      "locations": [
        {
          "country_code": "DE",
          "city_name": "Berlin"
        }
      ],
      "action": "allow"
    },
    "peer_network_range_check": {
      "ranges": [
        "192.168.1.0/24",
        "10.0.0.0/8",
        "2001:db8:1234:1a00::/56"
      ],
      "action": "allow"
    },
    "process_check": {
      "processes": [
        {
          "linux_path": "/usr/local/bin/netbird",
          "mac_path": "/Applications/NetBird.app/Contents/MacOS/netbird",
          "windows_path": "C: rogramDataetBird\netbird.exe"
        }
      ]
    }
  }
}'
```
</CodeGroup>
<CodeGroup title="Response" >
```json {{ title: 'Example' }}
{
  "id": "ch8i4ug6lnn4g9hqv7mg",
  "name": "Default",
  "description": "This checks if the peer is running required NetBird's version",
  "checks": {
    "nb_version_check": {
      "min_version": "14.3"
    },
    "os_version_check": {
      "android": {
        "min_version": "13"
      },
      "ios": {
        "min_version": "17.3.1"
      },
      "darwin": {
        "min_version": "14.2.1"
      },
      "linux": {
        "min_kernel_version": "5.3.3"
      },
      "windows": {
        "min_kernel_version": "10.0.1234"
      }
    },
    "geo_location_check": {
      "locations": [
        {
          "country_code": "DE",
          "city_name": "Berlin"
        }
      ],
      "action": "allow"
    },
    "peer_network_range_check": {
      "ranges": [
        "192.168.1.0/24",
        "10.0.0.0/8",
        "2001:db8:1234:1a00::/56"
      ],
      "action": "allow"
    },
    "process_check": {
      "processes": [
        {
          "linux_path": "/usr/local/bin/netbird",
          "mac_path": "/Applications/NetBird.app/Contents/MacOS/netbird",
          "windows_path": "C: rogramDataetBird\netbird.exe"
        }
      ]
    }
  }
}
```

```json {{ title: 'Schema' }}
{
  "id": "string",
  "name": "string",
  "description": "string",
  "checks": {
    "nb_version_check": {
      "min_version": "string"
    },
    "os_version_check": {
      "android": {
        "min_version": "string"
      },
      "darwin": {
        "min_version": "string"
      },
      "ios": {
        "min_version": "string"
      },
      "linux": {
        "min_kernel_version": "string"
      },
      "windows": {
        "min_kernel_version": "string"
      }
    },
    "geo_location_check": {
      "locations": [
        {
          "country_code": "string",
          "city_name": "string"
        }
      ],
      "action": "string"
    },
    "peer_network_range_check": {
      "ranges": [
        "string"
      ],
      "action": "string"
    },
    "process_check": {
      "processes": [
        {
          "linux_path": "string",
          "mac_path": "string",
          "windows_path": "string"
        }
      ]
    }
  }
}
```
</CodeGroup>

</Col>

</Row>
---



## Delete a Posture Check {{ tag: 'DELETE', label: '/api/posture-checks/{postureCheckId}' }}


<Row>

<Col>
Delete a posture check

### Path Parameters


<Properties>
<Property name="postureCheckId" type="string" required={true} >
The unique identifier of a posture check
</Property>

</Properties>

</Col>

<Col sticky>
<CodeGroup title="Request" tag="DELETE" label="/api/posture-checks/{postureCheckId}" >
```bash {{ title: 'cURL' }}
curl -X DELETE https://api.netbird.io/api/posture-checks/{postureCheckId} \
-H 'Authorization: Token <TOKEN>' \
```
</CodeGroup>

</Col>

</Row>
---
