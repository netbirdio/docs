export const title = 'Users'


## List all Users {{ tag: 'GET', label: '/api/users' }}


<Row>

<Col>
Returns a list of all users

### Query Parameters


<Properties>
<Property name="service_user" type="boolean" >
Filters users and returns either regular users or service users
</Property>

</Properties>

</Col>

<Col sticky>
<CodeGroup title="Request" tag="GET" label="/api/users" >
```bash {{ title: 'cURL' }}
curl -X GET https://api.netbird.io/api/users \
-H 'Accept: application/json' \
-H 'Authorization: Token <TOKEN>' 
```
</CodeGroup>
<CodeGroup title="Response" >
```json {{ title: 'Example' }}
[
  {
    "id": "google-oauth2|277474792786460067937",
    "email": "demo@netbird.io",
    "name": "Tom Schulz",
    "role": "admin",
    "status": "active",
    "last_login": "2023-05-05T09:00:35.477782Z",
    "auto_groups": [
      "ch8i4ug6lnn4g9hqv7m0"
    ],
    "is_current": true,
    "is_service_user": false,
    "is_blocked": false,
    "pending_approval": false,
    "issued": "api",
    "permissions": {
      "is_restricted": false,
      "modules": {
        "networks": {
          "read": true,
          "create": false,
          "update": false,
          "delete": false
        },
        "peers": {
          "read": false,
          "create": false,
          "update": false,
          "delete": false
        }
      }
    }
  }
]
```

```json {{ title: 'Schema' }}
[
  {
    "id": "string",
    "email": "string",
    "name": "string",
    "role": "string",
    "status": "string",
    "last_login": "string",
    "auto_groups": [
      "string"
    ],
    "is_current": "boolean",
    "is_service_user": "boolean",
    "is_blocked": "boolean",
    "pending_approval": "boolean",
    "issued": "string",
    "permissions": {
      "is_restricted": "boolean",
      "modules": {
        "type": "object",
        "additionalProperties": {
          "type": "object",
          "additionalProperties": "boolean"
        },
        "example": {
          "networks": {
            "read": true,
            "create": false,
            "update": false,
            "delete": false
          },
          "peers": {
            "read": false,
            "create": false,
            "update": false,
            "delete": false
          }
        }
      }
    }
  }
]
```
</CodeGroup>

</Col>

</Row>
---



## Create a User {{ tag: 'POST', label: '/api/users' }}


<Row>

<Col>
Creates a new service user or sends an invite to a regular user

### Request-Body Parameters


<Properties>
<Property name="email" type="string" >
User's Email to send invite to
</Property>
<Property name="name" type="string" >
User's full name
</Property>
<Property name="role" type="string" required={true} >
User's NetBird account role
</Property>
<Property name="auto_groups" type="string[]" required={true} >
Group IDs to auto-assign to peers registered by this user
</Property>
<Property name="is_service_user" type="boolean" required={true} >
Is true if this user is a service user
</Property>

</Properties>

</Col>

<Col sticky>
<CodeGroup title="Request" tag="POST" label="/api/users" >
```bash {{ title: 'cURL' }}
curl -X POST https://api.netbird.io/api/users \
-H 'Authorization: Token <TOKEN>' \
-H 'Accept: application/json' \
-H 'Content-Type: application/json' \
--data-raw '{
  "email": "demo@netbird.io",
  "name": "Tom Schulz",
  "role": "admin",
  "auto_groups": [
    "ch8i4ug6lnn4g9hqv7m0"
  ],
  "is_service_user": false
}'
```
</CodeGroup>
<CodeGroup title="Response" >
```json {{ title: 'Example' }}
{
  "id": "google-oauth2|277474792786460067937",
  "email": "demo@netbird.io",
  "name": "Tom Schulz",
  "role": "admin",
  "status": "active",
  "last_login": "2023-05-05T09:00:35.477782Z",
  "auto_groups": [
    "ch8i4ug6lnn4g9hqv7m0"
  ],
  "is_current": true,
  "is_service_user": false,
  "is_blocked": false,
  "pending_approval": false,
  "issued": "api",
  "permissions": {
    "is_restricted": false,
    "modules": {
      "networks": {
        "read": true,
        "create": false,
        "update": false,
        "delete": false
      },
      "peers": {
        "read": false,
        "create": false,
        "update": false,
        "delete": false
      }
    }
  }
}
```

```json {{ title: 'Schema' }}
{
  "id": "string",
  "email": "string",
  "name": "string",
  "role": "string",
  "status": "string",
  "last_login": "string",
  "auto_groups": [
    "string"
  ],
  "is_current": "boolean",
  "is_service_user": "boolean",
  "is_blocked": "boolean",
  "pending_approval": "boolean",
  "issued": "string",
  "permissions": {
    "is_restricted": "boolean",
    "modules": {
      "type": "object",
      "additionalProperties": {
        "type": "object",
        "additionalProperties": "boolean"
      },
      "example": {
        "networks": {
          "read": true,
          "create": false,
          "update": false,
          "delete": false
        },
        "peers": {
          "read": false,
          "create": false,
          "update": false,
          "delete": false
        }
      }
    }
  }
}
```
</CodeGroup>

</Col>

</Row>
---



## Update a User {{ tag: 'PUT', label: '/api/users/{userId}' }}


<Row>

<Col>
Update information about a User

### Path Parameters


<Properties>
<Property name="userId" type="string" required={true} >
The unique identifier of a user
</Property>

</Properties>


### Request-Body Parameters


<Properties>
<Property name="role" type="string" required={true} >
User's NetBird account role
</Property>
<Property name="auto_groups" type="string[]" required={true} >
Group IDs to auto-assign to peers registered by this user
</Property>
<Property name="is_blocked" type="boolean" required={true} >
If set to true then user is blocked and can't use the system
</Property>

</Properties>

</Col>

<Col sticky>
<CodeGroup title="Request" tag="PUT" label="/api/users/{userId}" >
```bash {{ title: 'cURL' }}
curl -X PUT https://api.netbird.io/api/users/{userId} \
-H 'Authorization: Token <TOKEN>' \
-H 'Accept: application/json' \
-H 'Content-Type: application/json' \
--data-raw '{
  "role": "admin",
  "auto_groups": [
    "ch8i4ug6lnn4g9hqv7m0"
  ],
  "is_blocked": false
}'
```
</CodeGroup>
<CodeGroup title="Response" >
```json {{ title: 'Example' }}
{
  "id": "google-oauth2|277474792786460067937",
  "email": "demo@netbird.io",
  "name": "Tom Schulz",
  "role": "admin",
  "status": "active",
  "last_login": "2023-05-05T09:00:35.477782Z",
  "auto_groups": [
    "ch8i4ug6lnn4g9hqv7m0"
  ],
  "is_current": true,
  "is_service_user": false,
  "is_blocked": false,
  "pending_approval": false,
  "issued": "api",
  "permissions": {
    "is_restricted": false,
    "modules": {
      "networks": {
        "read": true,
        "create": false,
        "update": false,
        "delete": false
      },
      "peers": {
        "read": false,
        "create": false,
        "update": false,
        "delete": false
      }
    }
  }
}
```

```json {{ title: 'Schema' }}
{
  "id": "string",
  "email": "string",
  "name": "string",
  "role": "string",
  "status": "string",
  "last_login": "string",
  "auto_groups": [
    "string"
  ],
  "is_current": "boolean",
  "is_service_user": "boolean",
  "is_blocked": "boolean",
  "pending_approval": "boolean",
  "issued": "string",
  "permissions": {
    "is_restricted": "boolean",
    "modules": {
      "type": "object",
      "additionalProperties": {
        "type": "object",
        "additionalProperties": "boolean"
      },
      "example": {
        "networks": {
          "read": true,
          "create": false,
          "update": false,
          "delete": false
        },
        "peers": {
          "read": false,
          "create": false,
          "update": false,
          "delete": false
        }
      }
    }
  }
}
```
</CodeGroup>

</Col>

</Row>
---



## Delete a User {{ tag: 'DELETE', label: '/api/users/{userId}' }}


<Row>

<Col>
This method removes a user from accessing the system. For this leaves the IDP user intact unless the `--user-delete-from-idp` is passed to management startup.

### Path Parameters


<Properties>
<Property name="userId" type="string" required={true} >
The unique identifier of a user
</Property>

</Properties>

</Col>

<Col sticky>
<CodeGroup title="Request" tag="DELETE" label="/api/users/{userId}" >
```bash {{ title: 'cURL' }}
curl -X DELETE https://api.netbird.io/api/users/{userId} \
-H 'Authorization: Token <TOKEN>' \
```
</CodeGroup>

</Col>

</Row>
---



## Resend user invitation {{ tag: 'POST', label: '/api/users/{userId}/invite' }}


<Row>

<Col>
Resend user invitation

### Path Parameters


<Properties>
<Property name="userId" type="string" required={true} >
The unique identifier of a user
</Property>

</Properties>

</Col>

<Col sticky>
<CodeGroup title="Request" tag="POST" label="/api/users/{userId}/invite" >
```bash {{ title: 'cURL' }}
curl -X POST https://api.netbird.io/api/users/{userId}/invite \
-H 'Authorization: Token <TOKEN>' \
```
</CodeGroup>

</Col>

</Row>
---



## Approve user {{ tag: 'POST', label: '/api/users/{userId}/approve' }}


<Row>

<Col>
Approve a user that is pending approval

### Path Parameters


<Properties>
<Property name="userId" type="string" required={true} >
The unique identifier of a user
</Property>

</Properties>

</Col>

<Col sticky>
<CodeGroup title="Request" tag="POST" label="/api/users/{userId}/approve" >
```bash {{ title: 'cURL' }}
curl -X POST https://api.netbird.io/api/users/{userId}/approve \
-H 'Authorization: Token <TOKEN>' \
```
</CodeGroup>
<CodeGroup title="Response" >
```json {{ title: 'Example' }}
{
  "id": "google-oauth2|277474792786460067937",
  "email": "demo@netbird.io",
  "name": "Tom Schulz",
  "role": "admin",
  "status": "active",
  "last_login": "2023-05-05T09:00:35.477782Z",
  "auto_groups": [
    "ch8i4ug6lnn4g9hqv7m0"
  ],
  "is_current": true,
  "is_service_user": false,
  "is_blocked": false,
  "pending_approval": false,
  "issued": "api",
  "permissions": {
    "is_restricted": false,
    "modules": {
      "networks": {
        "read": true,
        "create": false,
        "update": false,
        "delete": false
      },
      "peers": {
        "read": false,
        "create": false,
        "update": false,
        "delete": false
      }
    }
  }
}
```

```json {{ title: 'Schema' }}
{
  "id": "string",
  "email": "string",
  "name": "string",
  "role": "string",
  "status": "string",
  "last_login": "string",
  "auto_groups": [
    "string"
  ],
  "is_current": "boolean",
  "is_service_user": "boolean",
  "is_blocked": "boolean",
  "pending_approval": "boolean",
  "issued": "string",
  "permissions": {
    "is_restricted": "boolean",
    "modules": {
      "type": "object",
      "additionalProperties": {
        "type": "object",
        "additionalProperties": "boolean"
      },
      "example": {
        "networks": {
          "read": true,
          "create": false,
          "update": false,
          "delete": false
        },
        "peers": {
          "read": false,
          "create": false,
          "update": false,
          "delete": false
        }
      }
    }
  }
}
```
</CodeGroup>

</Col>

</Row>
---



## Reject user {{ tag: 'DELETE', label: '/api/users/{userId}/reject' }}


<Row>

<Col>
Reject a user that is pending approval by removing them from the account

### Path Parameters


<Properties>
<Property name="userId" type="string" required={true} >
The unique identifier of a user
</Property>

</Properties>

</Col>

<Col sticky>
<CodeGroup title="Request" tag="DELETE" label="/api/users/{userId}/reject" >
```bash {{ title: 'cURL' }}
curl -X DELETE https://api.netbird.io/api/users/{userId}/reject \
-H 'Authorization: Token <TOKEN>' \
```
</CodeGroup>

</Col>

</Row>
---



## Retrieve current user {{ tag: 'GET', label: '/api/users/current' }}


<Row>

<Col>
Get information about the current user
</Col>

<Col sticky>
<CodeGroup title="Request" tag="GET" label="/api/users/current" >
```bash {{ title: 'cURL' }}
curl -X GET https://api.netbird.io/api/users/current \
-H 'Accept: application/json' \
-H 'Authorization: Token <TOKEN>' 
```
</CodeGroup>
<CodeGroup title="Response" >
```json {{ title: 'Example' }}
{
  "id": "google-oauth2|277474792786460067937",
  "email": "demo@netbird.io",
  "name": "Tom Schulz",
  "role": "admin",
  "status": "active",
  "last_login": "2023-05-05T09:00:35.477782Z",
  "auto_groups": [
    "ch8i4ug6lnn4g9hqv7m0"
  ],
  "is_current": true,
  "is_service_user": false,
  "is_blocked": false,
  "pending_approval": false,
  "issued": "api",
  "permissions": {
    "is_restricted": false,
    "modules": {
      "networks": {
        "read": true,
        "create": false,
        "update": false,
        "delete": false
      },
      "peers": {
        "read": false,
        "create": false,
        "update": false,
        "delete": false
      }
    }
  }
}
```

```json {{ title: 'Schema' }}
{
  "id": "string",
  "email": "string",
  "name": "string",
  "role": "string",
  "status": "string",
  "last_login": "string",
  "auto_groups": [
    "string"
  ],
  "is_current": "boolean",
  "is_service_user": "boolean",
  "is_blocked": "boolean",
  "pending_approval": "boolean",
  "issued": "string",
  "permissions": {
    "is_restricted": "boolean",
    "modules": {
      "type": "object",
      "additionalProperties": {
        "type": "object",
        "additionalProperties": "boolean"
      },
      "example": {
        "networks": {
          "read": true,
          "create": false,
          "update": false,
          "delete": false
        },
        "peers": {
          "read": false,
          "create": false,
          "update": false,
          "delete": false
        }
      }
    }
  }
}
```
</CodeGroup>

</Col>

</Row>
---
