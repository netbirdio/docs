export const title = 'Policies'


## List all Policies {{ tag: 'GET', label: '/api/policies' }}


<Row>
 <Col>
Returns a list of all policies
</Col>
 <Col sticky>
<CodeGroup title="Request" tag="GET" label="/api/policies" >
```bash {{ title: 'cURL' }}
curl -X GET https://api.netbird.io/api/policies \
-H 'Accept: application/json' \
-H 'Authorization: Token <TOKEN>' 
```
</CodeGroup>
<CodeGroup title="Response" >
```json {{ title: 'Example' }}
[
  {
    "name": "ch8i4ug6lnn4g9hqv7mg",
    "description": "This is a default policy that allows connections between all the resources",
    "enabled": true,
    "id": "ch8i4ug6lnn4g9hqv7mg",
    "source_posture_checks": [
      "chacdk86lnnboviihd70"
    ],
    "rules": [
      {
        "name": "Default",
        "description": "This is a default rule that allows connections between all the resources",
        "enabled": true,
        "action": "accept",
        "bidirectional": true,
        "protocol": "tcp",
        "ports": [
          "80"
        ],
        "port_ranges": [
          {
            "start": 80,
            "end": 320
          }
        ],
        "id": "ch8i4ug6lnn4g9hqv7mg",
        "sources": [
          {
            "id": "ch8i4ug6lnn4g9hqv7m0",
            "name": "devs",
            "peers_count": 2,
            "resources_count": 5,
            "issued": "api"
          }
        ],
        "sourceResource": {
          "id": "chacdk86lnnboviihd7g",
          "type": "host"
        },
        "destinations": [
          {
            "id": "ch8i4ug6lnn4g9hqv7m0",
            "name": "devs",
            "peers_count": 2,
            "resources_count": 5,
            "issued": "api"
          }
        ],
        "destinationResource": {
          "id": "chacdk86lnnboviihd7g",
          "type": "host"
        }
      }
    ]
  }
]
```

```json {{ title: 'Schema' }}
[
  {
    "name": "string",
    "description": "string",
    "enabled": "boolean",
    "id": "string",
    "source_posture_checks": [
      "string"
    ],
    "rules": [
      {
        "name": "string",
        "description": "string",
        "enabled": "boolean",
        "action": "string",
        "bidirectional": "boolean",
        "protocol": "string",
        "ports": [
          "string"
        ],
        "port_ranges": [
          {
            "start": "integer",
            "end": "integer"
          }
        ],
        "id": "string",
        "sources": [
          {
            "id": "string",
            "name": "string",
            "peers_count": "integer",
            "resources_count": "integer",
            "issued": "string"
          }
        ],
        "sourceResource": {
          "id": "string",
          "type": "string"
        },
        "destinations": [
          {
            "id": "string",
            "name": "string",
            "peers_count": "integer",
            "resources_count": "integer",
            "issued": "string"
          }
        ],
        "destinationResource": {
          "id": "string",
          "type": "string"
        }
      }
    ]
  }
]
```
</CodeGroup>

</Col>

</Row>

---



## Create a Policy {{ tag: 'POST', label: '/api/policies' }}


<Row>
 <Col>
Creates a policy

### Request-Body Parameters


<Properties>
<Property name="name" type="string" required={true} >
Policy name identifier
</Property>
<Property name="description" type="string" >
Policy friendly description
</Property>
<Property name="enabled" type="boolean" required={true} >
Policy status
</Property>
<Property name="source_posture_checks" type="string[]" >
Posture checks ID's applied to policy source groups
</Property>
<Property name="rules" type="object[]" required={true} >
 <details class="custom-details" open>

<summary>Policy rule object for policy UI editor</summary>
<Properties>
<Property name="name" type="string" required={true} >
Policy rule name identifier
</Property>
<Property name="description" type="string" >
Policy rule friendly description
</Property>
<Property name="enabled" type="boolean" required={true} >
Policy rule status
</Property>
<Property name="action" type="string" required={true} >
Policy rule accept or drops packets
</Property>
<Property name="bidirectional" type="boolean" required={true} >
Define if the rule is applicable in both directions, sources, and destinations.
</Property>
<Property name="protocol" type="string" required={true} >
Policy rule type of the traffic
</Property>
<Property name="ports" type="string[]" >
Policy rule affected ports
</Property>
<Property name="port_ranges" type="object[]" >
 <details class="custom-details" open>

<summary>Policy rule affected ports ranges list</summary>
<Properties>
<Property name="start" type="integer" required={true} >
The starting port of the range
</Property>
<Property name="end" type="integer" required={true} >
The ending port of the range
</Property>

</Properties>

</details>

</Property>
<Property name="id" type="string" >
Policy rule ID
</Property>
<Property name="sources" type="string[]" >
Policy rule source group IDs
</Property>
<Property name="sourceResource" type="object" >
 <details class="custom-details" open>

<summary>More Information</summary>
<Properties>
<Property name="id" type="string" required={true} >
ID of the resource
</Property>
<Property name="type" type="string" required={true} >
Network resource type based of the address
</Property>

</Properties>

</details>

</Property>
<Property name="destinations" type="string[]" >
Policy rule destination group IDs
</Property>
<Property name="destinationResource" type="object" >
 <details class="custom-details" open>

<summary>More Information</summary>
<Properties>
<Property name="id" type="string" required={true} >
ID of the resource
</Property>
<Property name="type" type="string" required={true} >
Network resource type based of the address
</Property>

</Properties>

</details>

</Property>

</Properties>

</details>

</Property>

</Properties>

</Col>
 <Col sticky>
<CodeGroup title="Request" tag="POST" label="/api/policies" >
```bash {{ title: 'cURL' }}
curl -X POST https://api.netbird.io/api/policies \
-H 'Authorization: Token <TOKEN>' \
-H 'Accept: application/json' \
-H 'Content-Type: application/json' \
--data-raw '{
  "name": "ch8i4ug6lnn4g9hqv7mg",
  "description": "This is a default policy that allows connections between all the resources",
  "enabled": true,
  "source_posture_checks": [
    "chacdk86lnnboviihd70"
  ],
  "rules": [
    {
      "name": "Default",
      "description": "This is a default rule that allows connections between all the resources",
      "enabled": true,
      "action": "accept",
      "bidirectional": true,
      "protocol": "tcp",
      "ports": [
        "80"
      ],
      "port_ranges": [
        {
          "start": 80,
          "end": 320
        }
      ],
      "id": "ch8i4ug6lnn4g9hqv7mg",
      "sources": [
        "ch8i4ug6lnn4g9hqv797"
      ],
      "sourceResource": {
        "id": "chacdk86lnnboviihd7g",
        "type": "host"
      },
      "destinations": [
        "ch8i4ug6lnn4g9h7v7m0"
      ],
      "destinationResource": {
        "id": "chacdk86lnnboviihd7g",
        "type": "host"
      }
    }
  ]
}'
```
</CodeGroup>
<CodeGroup title="Response" >
```json {{ title: 'Example' }}
{
  "name": "ch8i4ug6lnn4g9hqv7mg",
  "description": "This is a default policy that allows connections between all the resources",
  "enabled": true,
  "id": "ch8i4ug6lnn4g9hqv7mg",
  "source_posture_checks": [
    "chacdk86lnnboviihd70"
  ],
  "rules": [
    {
      "name": "Default",
      "description": "This is a default rule that allows connections between all the resources",
      "enabled": true,
      "action": "accept",
      "bidirectional": true,
      "protocol": "tcp",
      "ports": [
        "80"
      ],
      "port_ranges": [
        {
          "start": 80,
          "end": 320
        }
      ],
      "id": "ch8i4ug6lnn4g9hqv7mg",
      "sources": [
        {
          "id": "ch8i4ug6lnn4g9hqv7m0",
          "name": "devs",
          "peers_count": 2,
          "resources_count": 5,
          "issued": "api"
        }
      ],
      "sourceResource": {
        "id": "chacdk86lnnboviihd7g",
        "type": "host"
      },
      "destinations": [
        {
          "id": "ch8i4ug6lnn4g9hqv7m0",
          "name": "devs",
          "peers_count": 2,
          "resources_count": 5,
          "issued": "api"
        }
      ],
      "destinationResource": {
        "id": "chacdk86lnnboviihd7g",
        "type": "host"
      }
    }
  ]
}
```

```json {{ title: 'Schema' }}
{
  "name": "string",
  "description": "string",
  "enabled": "boolean",
  "id": "string",
  "source_posture_checks": [
    "string"
  ],
  "rules": [
    {
      "name": "string",
      "description": "string",
      "enabled": "boolean",
      "action": "string",
      "bidirectional": "boolean",
      "protocol": "string",
      "ports": [
        "string"
      ],
      "port_ranges": [
        {
          "start": "integer",
          "end": "integer"
        }
      ],
      "id": "string",
      "sources": [
        {
          "id": "string",
          "name": "string",
          "peers_count": "integer",
          "resources_count": "integer",
          "issued": "string"
        }
      ],
      "sourceResource": {
        "id": "string",
        "type": "string"
      },
      "destinations": [
        {
          "id": "string",
          "name": "string",
          "peers_count": "integer",
          "resources_count": "integer",
          "issued": "string"
        }
      ],
      "destinationResource": {
        "id": "string",
        "type": "string"
      }
    }
  ]
}
```
</CodeGroup>

</Col>

</Row>

---



## Retrieve a Policy {{ tag: 'GET', label: '/api/policies/{policyId}' }}


<Row>
 <Col>
Get information about a Policies

### Path Parameters


<Properties>
<Property name="policyId" type="string" required={true} >
The unique identifier of a policy
</Property>

</Properties>

</Col>
 <Col sticky>
<CodeGroup title="Request" tag="GET" label="/api/policies/{policyId}" >
```bash {{ title: 'cURL' }}
curl -X GET https://api.netbird.io/api/policies/{policyId} \
-H 'Accept: application/json' \
-H 'Authorization: Token <TOKEN>' 
```
</CodeGroup>
<CodeGroup title="Response" >
```json {{ title: 'Example' }}
{
  "name": "ch8i4ug6lnn4g9hqv7mg",
  "description": "This is a default policy that allows connections between all the resources",
  "enabled": true,
  "id": "ch8i4ug6lnn4g9hqv7mg",
  "source_posture_checks": [
    "chacdk86lnnboviihd70"
  ],
  "rules": [
    {
      "name": "Default",
      "description": "This is a default rule that allows connections between all the resources",
      "enabled": true,
      "action": "accept",
      "bidirectional": true,
      "protocol": "tcp",
      "ports": [
        "80"
      ],
      "port_ranges": [
        {
          "start": 80,
          "end": 320
        }
      ],
      "id": "ch8i4ug6lnn4g9hqv7mg",
      "sources": [
        {
          "id": "ch8i4ug6lnn4g9hqv7m0",
          "name": "devs",
          "peers_count": 2,
          "resources_count": 5,
          "issued": "api"
        }
      ],
      "sourceResource": {
        "id": "chacdk86lnnboviihd7g",
        "type": "host"
      },
      "destinations": [
        {
          "id": "ch8i4ug6lnn4g9hqv7m0",
          "name": "devs",
          "peers_count": 2,
          "resources_count": 5,
          "issued": "api"
        }
      ],
      "destinationResource": {
        "id": "chacdk86lnnboviihd7g",
        "type": "host"
      }
    }
  ]
}
```

```json {{ title: 'Schema' }}
{
  "name": "string",
  "description": "string",
  "enabled": "boolean",
  "id": "string",
  "source_posture_checks": [
    "string"
  ],
  "rules": [
    {
      "name": "string",
      "description": "string",
      "enabled": "boolean",
      "action": "string",
      "bidirectional": "boolean",
      "protocol": "string",
      "ports": [
        "string"
      ],
      "port_ranges": [
        {
          "start": "integer",
          "end": "integer"
        }
      ],
      "id": "string",
      "sources": [
        {
          "id": "string",
          "name": "string",
          "peers_count": "integer",
          "resources_count": "integer",
          "issued": "string"
        }
      ],
      "sourceResource": {
        "id": "string",
        "type": "string"
      },
      "destinations": [
        {
          "id": "string",
          "name": "string",
          "peers_count": "integer",
          "resources_count": "integer",
          "issued": "string"
        }
      ],
      "destinationResource": {
        "id": "string",
        "type": "string"
      }
    }
  ]
}
```
</CodeGroup>

</Col>

</Row>

---



## Update a Policy {{ tag: 'PUT', label: '/api/policies/{policyId}' }}


<Row>
 <Col>
Update/Replace a Policy

### Path Parameters


<Properties>
<Property name="policyId" type="string" required={true} >
The unique identifier of a policy
</Property>

</Properties>


### Request-Body Parameters


<Properties>
<Property name="name" type="string" required={true} >
Policy name identifier
</Property>
<Property name="description" type="string" >
Policy friendly description
</Property>
<Property name="enabled" type="boolean" required={true} >
Policy status
</Property>
<Property name="source_posture_checks" type="string[]" >
Posture checks ID's applied to policy source groups
</Property>
<Property name="rules" type="object[]" required={true} >
 <details class="custom-details" open>

<summary>Policy rule object for policy UI editor</summary>
<Properties>
<Property name="name" type="string" required={true} >
Policy rule name identifier
</Property>
<Property name="description" type="string" >
Policy rule friendly description
</Property>
<Property name="enabled" type="boolean" required={true} >
Policy rule status
</Property>
<Property name="action" type="string" required={true} >
Policy rule accept or drops packets
</Property>
<Property name="bidirectional" type="boolean" required={true} >
Define if the rule is applicable in both directions, sources, and destinations.
</Property>
<Property name="protocol" type="string" required={true} >
Policy rule type of the traffic
</Property>
<Property name="ports" type="string[]" >
Policy rule affected ports
</Property>
<Property name="port_ranges" type="object[]" >
 <details class="custom-details" open>

<summary>Policy rule affected ports ranges list</summary>
<Properties>
<Property name="start" type="integer" required={true} >
The starting port of the range
</Property>
<Property name="end" type="integer" required={true} >
The ending port of the range
</Property>

</Properties>

</details>

</Property>
<Property name="id" type="string" >
Policy rule ID
</Property>
<Property name="sources" type="string[]" >
Policy rule source group IDs
</Property>
<Property name="sourceResource" type="object" >
 <details class="custom-details" open>

<summary>More Information</summary>
<Properties>
<Property name="id" type="string" required={true} >
ID of the resource
</Property>
<Property name="type" type="string" required={true} >
Network resource type based of the address
</Property>

</Properties>

</details>

</Property>
<Property name="destinations" type="string[]" >
Policy rule destination group IDs
</Property>
<Property name="destinationResource" type="object" >
 <details class="custom-details" open>

<summary>More Information</summary>
<Properties>
<Property name="id" type="string" required={true} >
ID of the resource
</Property>
<Property name="type" type="string" required={true} >
Network resource type based of the address
</Property>

</Properties>

</details>

</Property>

</Properties>

</details>

</Property>

</Properties>

</Col>
 <Col sticky>
<CodeGroup title="Request" tag="PUT" label="/api/policies/{policyId}" >
```bash {{ title: 'cURL' }}
curl -X PUT https://api.netbird.io/api/policies/{policyId} \
-H 'Authorization: Token <TOKEN>' \
-H 'Accept: application/json' \
-H 'Content-Type: application/json' \
--data-raw '{
  "name": "ch8i4ug6lnn4g9hqv7mg",
  "description": "This is a default policy that allows connections between all the resources",
  "enabled": true,
  "source_posture_checks": [
    "chacdk86lnnboviihd70"
  ],
  "rules": [
    {
      "name": "Default",
      "description": "This is a default rule that allows connections between all the resources",
      "enabled": true,
      "action": "accept",
      "bidirectional": true,
      "protocol": "tcp",
      "ports": [
        "80"
      ],
      "port_ranges": [
        {
          "start": 80,
          "end": 320
        }
      ],
      "id": "ch8i4ug6lnn4g9hqv7mg",
      "sources": [
        "ch8i4ug6lnn4g9hqv797"
      ],
      "sourceResource": {
        "id": "chacdk86lnnboviihd7g",
        "type": "host"
      },
      "destinations": [
        "ch8i4ug6lnn4g9h7v7m0"
      ],
      "destinationResource": {
        "id": "chacdk86lnnboviihd7g",
        "type": "host"
      }
    }
  ]
}'
```
</CodeGroup>
<CodeGroup title="Response" >
```json {{ title: 'Example' }}
{
  "name": "ch8i4ug6lnn4g9hqv7mg",
  "description": "This is a default policy that allows connections between all the resources",
  "enabled": true,
  "id": "ch8i4ug6lnn4g9hqv7mg",
  "source_posture_checks": [
    "chacdk86lnnboviihd70"
  ],
  "rules": [
    {
      "name": "Default",
      "description": "This is a default rule that allows connections between all the resources",
      "enabled": true,
      "action": "accept",
      "bidirectional": true,
      "protocol": "tcp",
      "ports": [
        "80"
      ],
      "port_ranges": [
        {
          "start": 80,
          "end": 320
        }
      ],
      "id": "ch8i4ug6lnn4g9hqv7mg",
      "sources": [
        {
          "id": "ch8i4ug6lnn4g9hqv7m0",
          "name": "devs",
          "peers_count": 2,
          "resources_count": 5,
          "issued": "api"
        }
      ],
      "sourceResource": {
        "id": "chacdk86lnnboviihd7g",
        "type": "host"
      },
      "destinations": [
        {
          "id": "ch8i4ug6lnn4g9hqv7m0",
          "name": "devs",
          "peers_count": 2,
          "resources_count": 5,
          "issued": "api"
        }
      ],
      "destinationResource": {
        "id": "chacdk86lnnboviihd7g",
        "type": "host"
      }
    }
  ]
}
```

```json {{ title: 'Schema' }}
{
  "name": "string",
  "description": "string",
  "enabled": "boolean",
  "id": "string",
  "source_posture_checks": [
    "string"
  ],
  "rules": [
    {
      "name": "string",
      "description": "string",
      "enabled": "boolean",
      "action": "string",
      "bidirectional": "boolean",
      "protocol": "string",
      "ports": [
        "string"
      ],
      "port_ranges": [
        {
          "start": "integer",
          "end": "integer"
        }
      ],
      "id": "string",
      "sources": [
        {
          "id": "string",
          "name": "string",
          "peers_count": "integer",
          "resources_count": "integer",
          "issued": "string"
        }
      ],
      "sourceResource": {
        "id": "string",
        "type": "string"
      },
      "destinations": [
        {
          "id": "string",
          "name": "string",
          "peers_count": "integer",
          "resources_count": "integer",
          "issued": "string"
        }
      ],
      "destinationResource": {
        "id": "string",
        "type": "string"
      }
    }
  ]
}
```
</CodeGroup>

</Col>

</Row>

---



## Delete a Policy {{ tag: 'DELETE', label: '/api/policies/{policyId}' }}


<Row>
 <Col>
Delete a policy

### Path Parameters


<Properties>
<Property name="policyId" type="string" required={true} >
The unique identifier of a policy
</Property>

</Properties>

</Col>
 <Col sticky>
<CodeGroup title="Request" tag="DELETE" label="/api/policies/{policyId}" >
```bash {{ title: 'cURL' }}
curl -X DELETE https://api.netbird.io/api/policies/{policyId} \
-H 'Authorization: Token <TOKEN>' \
```
</CodeGroup>

</Col>

</Row>

---
