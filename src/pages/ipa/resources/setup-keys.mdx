export const title = 'Setup Keys'


## List all Setup Keys {{ tag: 'GET', label: '/api/setup-keys' }}


<Row>

<Col>
Returns a list of all Setup Keys
</Col>

<Col sticky>
<CodeGroup title="Request" tag="GET" label="/api/setup-keys" >
```bash {{ title: 'cURL' }}
curl -X GET https://api.netbird.io/api/setup-keys \
-H 'Accept: application/json' \
-H 'Authorization: Token <TOKEN>' 
```
</CodeGroup>
<CodeGroup title="Response" tag="GET" label="/api/setup-keys" >
```json {{ title: 'Example' }}
[
  {
    "id": "string",
    "name": "string",
    "expires": "string",
    "type": "string",
    "valid": "boolean",
    "revoked": "boolean",
    "used_times": "integer",
    "last_used": "string",
    "state": "string",
    "auto_groups": [
      "string"
    ],
    "updated_at": "string",
    "usage_limit": "integer",
    "ephemeral": "boolean",
    "allow_extra_dns_labels": "boolean",
    "key": "string"
  }
]
```

```json {{ title: 'Schema' }}
[
  {
    "id": "string",
    "name": "string",
    "expires": "string",
    "type": "string",
    "valid": "boolean",
    "revoked": "boolean",
    "used_times": "integer",
    "last_used": "string",
    "state": "string",
    "auto_groups": [
      "string"
    ],
    "updated_at": "string",
    "usage_limit": "integer",
    "ephemeral": "boolean",
    "allow_extra_dns_labels": "boolean",
    "key": "string"
  }
]
```
</CodeGroup>

</Col>

</Row>
---



## Create a Setup Key {{ tag: 'POST', label: '/api/setup-keys' }}


<Row>

<Col>
Creates a setup key

### Request-Body Parameters


<Properties>
<Property name="name" type="string" required={true} >
Setup Key name
</Property>
<Property name="type" type="string" required={true} >
Setup key type, one-off for single time usage and reusable
</Property>
<Property name="expires_in" type="integer" required={true} >
Expiration time in seconds
</Property>
<Property name="auto_groups" type="string[]" required={true} >
List of group IDs to auto-assign to peers registered with this key
</Property>
<Property name="usage_limit" type="integer" required={true} >
A number of times this key can be used. The value of 0 indicates the unlimited usage.
</Property>
<Property name="ephemeral" type="boolean" >
Indicate that the peer will be ephemeral or not
</Property>
<Property name="allow_extra_dns_labels" type="boolean" >
Allow extra DNS labels to be added to the peer
</Property>

</Properties>

</Col>

<Col sticky>
<CodeGroup title="Request" tag="POST" label="/api/setup-keys" >
```bash {{ title: 'cURL' }}
curl -X POST https://api.netbird.io/api/setup-keys \
-H 'Accept: application/json' \
-H 'Content-Type: application/json' \
-H 'Authorization: Token <TOKEN>' \
--data-raw '{
  "id": 2531583362,
  "name": "Default key",
  "expires": "2023-06-01T14:47:22.291057Z",
  "type": "reusable",
  "valid": true,
  "revoked": false,
  "used_times": 2,
  "last_used": "2023-05-05T09:00:35.477782Z",
  "state": "valid",
  "auto_groups": [
    "ch8i4ug6lnn4g9hqv7m0"
  ],
  "updated_at": "2023-05-05T09:00:35.477782Z",
  "usage_limit": 0,
  "ephemeral": true,
  "allow_extra_dns_labels": true,
  "key": "A616097E-FCF0-48FA-9354-CA4A61142761"
}'
```
</CodeGroup>
<CodeGroup title="Response" tag="POST" label="/api/setup-keys" >
```json {{ title: 'Example' }}
{
  "id": "string",
  "name": "string",
  "expires": "string",
  "type": "string",
  "valid": "boolean",
  "revoked": "boolean",
  "used_times": "integer",
  "last_used": "string",
  "state": "string",
  "auto_groups": [
    "string"
  ],
  "updated_at": "string",
  "usage_limit": "integer",
  "ephemeral": "boolean",
  "allow_extra_dns_labels": "boolean",
  "key": "string"
}
```

```json {{ title: 'Schema' }}
{
  "id": "string",
  "name": "string",
  "expires": "string",
  "type": "string",
  "valid": "boolean",
  "revoked": "boolean",
  "used_times": "integer",
  "last_used": "string",
  "state": "string",
  "auto_groups": [
    "string"
  ],
  "updated_at": "string",
  "usage_limit": "integer",
  "ephemeral": "boolean",
  "allow_extra_dns_labels": "boolean",
  "key": "string"
}
```
</CodeGroup>

</Col>

</Row>
---



## Retrieve a Setup Key {{ tag: 'GET', label: '/api/setup-keys/{keyId}' }}


<Row>

<Col>
Get information about a setup key

### Path Parameters


<Properties>
<Property name="keyId" type="string" required={true} >
The unique identifier of a setup key
</Property>

</Properties>

</Col>

<Col sticky>
<CodeGroup title="Request" tag="GET" label="/api/setup-keys/{keyId}" >
```bash {{ title: 'cURL' }}
curl -X GET https://api.netbird.io/api/setup-keys/{keyId} \
-H 'Accept: application/json' \
-H 'Authorization: Token <TOKEN>' 
```
</CodeGroup>
<CodeGroup title="Response" tag="GET" label="/api/setup-keys/{keyId}" >
```json {{ title: 'Example' }}
{
  "id": "string",
  "name": "string",
  "expires": "string",
  "type": "string",
  "valid": "boolean",
  "revoked": "boolean",
  "used_times": "integer",
  "last_used": "string",
  "state": "string",
  "auto_groups": [
    "string"
  ],
  "updated_at": "string",
  "usage_limit": "integer",
  "ephemeral": "boolean",
  "allow_extra_dns_labels": "boolean",
  "key": "string"
}
```

```json {{ title: 'Schema' }}
{
  "id": "string",
  "name": "string",
  "expires": "string",
  "type": "string",
  "valid": "boolean",
  "revoked": "boolean",
  "used_times": "integer",
  "last_used": "string",
  "state": "string",
  "auto_groups": [
    "string"
  ],
  "updated_at": "string",
  "usage_limit": "integer",
  "ephemeral": "boolean",
  "allow_extra_dns_labels": "boolean",
  "key": "string"
}
```
</CodeGroup>

</Col>

</Row>
---



## Update a Setup Key {{ tag: 'PUT', label: '/api/setup-keys/{keyId}' }}


<Row>

<Col>
Update information about a setup key

### Path Parameters


<Properties>
<Property name="keyId" type="string" required={true} >
The unique identifier of a setup key
</Property>

</Properties>


### Request-Body Parameters


<Properties>
<Property name="revoked" type="boolean" required={true} >
Setup key revocation status
</Property>
<Property name="auto_groups" type="string[]" required={true} >
List of group IDs to auto-assign to peers registered with this key
</Property>

</Properties>

</Col>

<Col sticky>
<CodeGroup title="Request" tag="PUT" label="/api/setup-keys/{keyId}" >
```bash {{ title: 'cURL' }}
curl -X PUT https://api.netbird.io/api/setup-keys/{keyId} \
-H 'Accept: application/json' \
-H 'Content-Type: application/json' \
-H 'Authorization: Token <TOKEN>' \
--data-raw '{
  "id": 2531583362,
  "name": "Default key",
  "expires": "2023-06-01T14:47:22.291057Z",
  "type": "reusable",
  "valid": true,
  "revoked": false,
  "used_times": 2,
  "last_used": "2023-05-05T09:00:35.477782Z",
  "state": "valid",
  "auto_groups": [
    "ch8i4ug6lnn4g9hqv7m0"
  ],
  "updated_at": "2023-05-05T09:00:35.477782Z",
  "usage_limit": 0,
  "ephemeral": true,
  "allow_extra_dns_labels": true,
  "key": "A6160****"
}'
```
</CodeGroup>
<CodeGroup title="Response" tag="PUT" label="/api/setup-keys/{keyId}" >
```json {{ title: 'Example' }}
{
  "id": "string",
  "name": "string",
  "expires": "string",
  "type": "string",
  "valid": "boolean",
  "revoked": "boolean",
  "used_times": "integer",
  "last_used": "string",
  "state": "string",
  "auto_groups": [
    "string"
  ],
  "updated_at": "string",
  "usage_limit": "integer",
  "ephemeral": "boolean",
  "allow_extra_dns_labels": "boolean",
  "key": "string"
}
```

```json {{ title: 'Schema' }}
{
  "id": "string",
  "name": "string",
  "expires": "string",
  "type": "string",
  "valid": "boolean",
  "revoked": "boolean",
  "used_times": "integer",
  "last_used": "string",
  "state": "string",
  "auto_groups": [
    "string"
  ],
  "updated_at": "string",
  "usage_limit": "integer",
  "ephemeral": "boolean",
  "allow_extra_dns_labels": "boolean",
  "key": "string"
}
```
</CodeGroup>

</Col>

</Row>
---



## Delete a Setup Key {{ tag: 'DELETE', label: '/api/setup-keys/{keyId}' }}


<Row>

<Col>
Delete a Setup Key

### Path Parameters


<Properties>
<Property name="keyId" type="string" required={true} >
The unique identifier of a setup key
</Property>

</Properties>

</Col>

<Col sticky>
<CodeGroup title="Request" tag="DELETE" label="/api/setup-keys/{keyId}" >
```bash {{ title: 'cURL' }}
curl -X DELETE https://api.netbird.io/api/setup-keys/{keyId} \
-H 'Authorization: Token <TOKEN>' \
```
</CodeGroup>

</Col>

</Row>
---
