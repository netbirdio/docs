import {Note} from "@/components/mdx";

# Install NetBird on TrueNAS

NetBird is installed on TrueNAS via **TrueNAS Apps** (the built-in app catalog). The NetBird app is available in the official TrueNAS catalog. If you don't see it, refresh the catalog during app setup—in the Apps view, use the option to refresh or update the catalog, then search for NetBird.

## Generate your Setup Key

Before we install NetBird, we are going to want to generate a one-off setup key to use with our TrueNAS installation. While [NetBird's documentation offers comprehensive guidance on this process](https://docs.netbird.io/manage/peers/register-machines-using-setup-keys), let's quickly review the essential steps:

- Access your [NetBird dashboard](https://app.netbird.io/)
- Navigate to the `Setup Keys` section
- Click the `Create Setup Key` button on the right
- Name your key (e.g., "TrueNAS")
- Set an expiration date (recommended for enhanced security)
- Configure auto-assigned groups if needed (e.g., "Homelab")
- Click `Create Setup Key` to generate the setup key
- Copy the generated key and store it securely as you'll need it for the next steps

## Install and Verify the NetBird App

1. In TrueNAS, go to **Apps** and search for **NetBird**. If it doesn't appear, refresh the catalog (e.g., **Discover Apps** or the catalog refresh option in your TrueNAS version).
2. Click **Install** and configure the app as described below. Most defaults are fine; the main fields you need to set are **Hostname** and **Setup Key**.
3. After installation, confirm the app is **Running** in the Apps list.
4. Open your [NetBird dashboard](https://app.netbird.io/) and go to **Peers**. You should see your TrueNAS peer listed. Rename it (e.g., "TrueNAS" or "NAS") if you like for easier identification.

### App configuration

When you install the NetBird app, TrueNAS shows an **Edit Netbird Client** form. Use this as a guide:

**Netbird Client Configuration**

- **Application name** — Display name in TrueNAS (e.g., "NetBird" or "Netbird Client"). Default is fine.
- **Timezone** — Leave default unless you need a specific timezone for logs.
- **Hostname** — Name this peer will use in NetBird (e.g., "truenas" or "nas"). Pick something you’ll recognize in the dashboard.
- **Setup Key** *(required)* — Paste the setup key you created in [Generate your Setup Key](#generate-your-setup-key). This registers the TrueNAS peer with your NetBird network.
- **Userspace** — Leave default (userspace networking). Only change if you have a specific need.
- **Management URL** *(optional)* — Leave empty for NetBird Cloud (`https://api.netbird.io`). Set this only if you use a [self-hosted](/selfhosted/selfhosted-quickstart) management server.
- **Additional Environment Variables** — Leave empty unless you need extra [environment variables](/get-started/cli#environment-variables).

**Network Configuration**

- **Host Network** — Enabling **Host Network** lets the NetBird container use the host’s network stack. This is typically required if you want this TrueNAS peer to act as a [routing peer](/manage/networks/homelab/access-home-network#choose-or-add-a-routing-peer-in-your-lan) so other NetBird peers can reach your LAN. If you only need the TrueNAS peer to be reachable via NetBird (not to route traffic to other devices), you can leave this off.

**Storage Configuration**

- **State Storage** — Use the default (e.g., **ixVolume**) so NetBird can persist its state. This keeps the peer identity and config across app restarts.

**Resources Configuration**

- **CPUs** and **Memory (MB)** — Defaults are usually sufficient. Increase if you have many peers or heavy routing.

You can leave **Labels** and **Additional Storage** empty unless you use them for access policies or custom storage.

## Access TrueNAS via NetBird Networks

Because NetBird on TrueNAS runs inside a Docker container, you cannot connect directly to the TrueNAS host or its services by IP as you would to a normal peer. To reach TrueNAS or other devices on the same LAN, use [NetBird Networks](/manage/networks/homelab/access-home-network):

1. **Create a NetBird Network** — In the dashboard, go to **Networks** → **Add Network**. Name it (e.g., "Home LAN" or "TrueNAS LAN").
2. **Add the TrueNAS peer as a routing peer** — In that network, click **Add Routing Peer** and select the TrueNAS peer. This makes TrueNAS the gateway for traffic into your local subnet.
3. **Add a network resource** — Click **Add Resource**. Either:
   - Add your **entire LAN subnet** (e.g., `192.168.1.0/24`) so you can reach TrueNAS and any other device on that subnet, or
   - Add a **single resource** (e.g., `192.168.1.100/32`) if you only need access to the TrueNAS host.

After you define an [access control policy](/manage/networks/homelab/access-home-network#create-an-access-control-policy) that allows the right peers or groups to reach this network, you can access TrueNAS and other resources on that subnet through the TrueNAS routing peer.