import { Note } from '@/components/mdx'
import { Tiles } from '@/components/Tiles'

# Site-to-Site Connectivity

Site-to-site connectivity allows you to connect entire networks together, enabling devices to communicate across locations without installing the NetBird client on every device.

## Understanding Remote Access Scenarios

NetBird supports three distinct remote access scenarios. Understanding which one you need is the first step to a successful setup.

### VPN-to-Site

A NetBird peer (device running the NetBird client) accesses devices on a remote network that don't have NetBird installed.

```
Your Laptop ──────► NetBird Tunnel ──────► Routing Peer ──────► Office Printer
  (peer)                                    (peer)              (clientless)
```

**Common use cases:**
- Access your home NAS from anywhere
- Reach office servers while traveling
- Connect to IoT devices on a remote network

**Implementation:** Use [Networks](/manage/networks) (recommended) or [Network Routes](/manage/network-routes)

### Site-to-VPN

A device without NetBird initiates connections to NetBird peers. This is the reverse of VPN-to-Site—the clientless device starts the connection.

```
Office Server ──────► Routing Peer ──────► NetBird Tunnel ──────► Your Laptop
 (clientless)           (peer)                                      (peer)
```

**Common use cases:**
- Office monitoring systems pushing data to remote analysts
- On-premise servers initiating backups to cloud peers
- Legacy systems that must initiate outbound connections

**Implementation:** Requires [Network Routes](/manage/network-routes) (Networks does not currently support this)

### Site-to-Site

Devices on separate networks communicate with each other, with neither running NetBird directly. Each network has a routing peer that handles traffic.

```
Home NAS ──► Routing Peer ──► NetBird Tunnel ──► Routing Peer ──► Office Server
(clientless)    (peer)                              (peer)         (clientless)
```

**Common use cases:**
- Connect branch office networks to headquarters
- Link home networks of family members
- Bridge on-premise data centers with cloud VPCs

**Implementation:** Requires [Network Routes](/manage/network-routes) (Networks does not currently support this)

<Note>
The Networks feature currently supports VPN-to-Site only. For Site-to-VPN and Site-to-Site scenarios, use Network Routes. Networks support for these scenarios may be added in future releases.
</Note>

## Which Scenario Do I Need?

| I want to... | Scenario | Feature to Use |
|-------------|----------|----------------|
| Access home devices from my laptop | VPN-to-Site | [Networks](/manage/networks/use-cases/access-home-devices) or [Network Routes](/manage/network-routes) |
| Access office resources while traveling | VPN-to-Site | [Networks](/manage/networks/use-cases/remote-worker-access) or [Network Routes](/manage/network-routes) |
| Let an office server connect to my laptop | Site-to-VPN | [Network Routes](/manage/network-routes/use-cases/site-to-site-office) only |
| Connect two home networks together | Site-to-Site | [Network Routes](/manage/network-routes/use-cases/site-to-site-home) only |
| Link branch offices | Site-to-Site | [Network Routes](/manage/network-routes/use-cases/site-to-site-office) only |
| Bridge cloud VPC with on-premise network | Site-to-Site | [Network Routes](/manage/network-routes/use-cases/site-to-site-cloud) only |

## How It Works

All scenarios use a routing peer—a device running NetBird that forwards traffic for its local network:

1. **Deploy a routing peer** at each site (any device running NetBird with access to the local network)
2. **Configure routing** to advertise each site's subnet through NetBird
3. **Set access policies** to control which peers can reach which networks
4. **Configure clientless devices** to route traffic through the routing peer (for Site-to-VPN and Site-to-Site)

<Tiles
    title="VPN-to-Site Guides (Networks)"
    items={[
        {
            href: '/manage/networks/use-cases/access-home-devices',
            name: 'Access Home Devices',
            description: 'Access your NAS, home automation, and media servers from anywhere',
        },
        {
            href: '/manage/networks/use-cases/remote-worker-access',
            name: 'Remote Worker Access',
            description: 'Enable employees to access office resources while working remotely',
        },
        {
            href: '/manage/networks/use-cases/cloud-to-on-premise',
            name: 'Cloud to On-Premise',
            description: 'Connect cloud workloads to on-premise databases and services',
        },
    ]}
/>

<Tiles
    title="Site-to-Site Guides (Network Routes)"
    items={[
        {
            href: '/manage/network-routes/use-cases/site-to-site-home',
            name: 'Connect Home Networks',
            description: 'Link multiple home networks so devices can communicate across locations',
        },
        {
            href: '/manage/network-routes/use-cases/site-to-site-office',
            name: 'Connect Office Networks',
            description: 'Connect branch offices to headquarters and enable cross-site communication',
        },
        {
            href: '/manage/network-routes/use-cases/site-to-site-cloud',
            name: 'Connect Cloud Environments',
            description: 'Bridge cloud VPCs across providers or connect cloud to on-premise',
        },
        {
            href: '/manage/network-routes/use-cases/advanced-configuration',
            name: 'Advanced Configuration',
            description: 'Masquerade options, ACL Groups, and troubleshooting',
        },
    ]}
/>

## Key Concepts

| Term | Description |
|------|-------------|
| Routing peer | A device running NetBird that forwards traffic for its local network |
| Clientless device | A device that doesn't run NetBird (printers, IoT, legacy systems) |
| Network Routes | Feature for routing traffic to private networks (supports all scenarios) |
| Networks | Newer feature for defining network resources (VPN-to-Site only, simpler setup) |
| Masquerade | NAT that hides source IPs behind the routing peer's IP (simplifies setup) |

## Networks vs Network Routes

NetBird has two features for routing traffic to private networks: **Networks** and **Network Routes**. Both are fully supported and coexist in the product.

### Why Two Features?

Networks is the newer, redesigned approach to private network access. It offers a simpler setup experience with a streamlined UI workflow. However, it doesn't yet support all the scenarios that Network Routes handles.

Network Routes is the original routing feature. It requires more manual configuration but supports the full range of remote access scenarios, including Site-to-VPN and Site-to-Site.

### Which Should I Use?

| Capability | Networks | Network Routes |
|-----------|----------|----------------|
| VPN-to-Site | Yes | Yes |
| Site-to-VPN | No | Yes |
| Site-to-Site | No | Yes |
| Setup complexity | Simpler | More configuration |
| Access control | Per-resource policies | Per-route with ACL Groups |
| Masquerade control | Always on | Configurable |
| Routing peer redundancy | Built-in UI | Manual setup |

**Use Networks when:**
- You only need VPN-to-Site access (peers accessing clientless devices)
- You prefer a guided setup experience
- You want per-resource access policies

**Use Network Routes when:**
- You need Site-to-VPN or Site-to-Site connectivity
- You need to disable masquerade for source IP preservation
- You need ACL Groups for route-level access control

### Future Direction

The goal is to eventually migrate all routing functionality into Networks, providing a unified experience. However, this is a gradual process. **Network Routes will not be deprecated without advance notice**, and any migration path will be clearly documented.

For now, use whichever feature fits your needs. If Networks supports your use case, it's the recommended choice for new setups. If you need capabilities only available in Network Routes, use that—it's stable and fully supported.
