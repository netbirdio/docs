# Connecting to AWS ECS cluster

<img style={{float: 'right', width: 250, margin: '0 0 0 30px'}} src="/docs-static/img/how-to-guides/aws-vpc/aws-ecs-logo.png" alt="aws logo" />

**[TODO: Description]** Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas dolor enim, semper at hendrerit ac, convallis non magna. Curabitur at quam orci. Aenean convallis vehicula justo, et convallis turpis aliquam quis. Ut porta nec orci vel convallis. In id maximus turpis. Mauris non tincidunt sapien, sit amet blandit erat. Duis tempor dolor ut porta imperdiet. Fusce molestie porttitor augue, eu congue neque dignissim vel. Sed vitae elit nulla. Etiam facilisis a turpis vitae varius. Maecenas iaculis consequat mauris, id ultricies felis ornare sed. Nam nec mattis ligula, tempus maximus justo. Etiam malesuada malesuada malesuada erat ac tristique sollicitudin. Curabitur porta at nunc nec ornare. Curabitur porta at nunc nec ornare. Curabitur porta at nunc nec ornare.

<Note>
    In this example, we will connect to AWS ECS cluster using NetBird Networks. It's also possible to do it running Netbird Client right inside ECS cluster as a part of ECS Service. {/* TODO: Add a link to a ECS NetBird Agent guide */}
</Note>

## Video Guide
For details on accessing an AWS ECS cluster from your NetBird network, watch this video guide on YouTube:
**[TODO: Record a video for this guide]**
<iframe width="560" height="315" src="https://www.youtube.com/embed/JRCZy4rLi-c?start=34" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>


## Prerequisites
In this guide we assume that user has some experience with AWS and its features aren't explained in details.

### Requirements
* A NetBird account with a Setup Key.
* Another NetBird client in your network to validate the connection (possibly your laptop or a machine you are running this example on).
* An [AWS account](https://aws.amazon.com/free/).

## Guide

<Note>
    Before getting started with this, be aware that usage of AWS resources may incur charges from AWS
</Note>

### Create an ECS Cluster

...
use VPC from the [connecting to AWS VPC](/how-to/connecting-to-aws-vpc) guide
...

### Create a Service

...
switch off Public IP!
use restrictive security group!
...

### Create a Task

...we use nginx docker image. It won't be available because the service doesn't have an allocated public IP and security group doesn't allow inbound traffic...

### Add a Resource to the NetBird Network
...
use the Network from the [connecting to AWS VPC](/how-to/connecting-to-aws-vpc) guide
...

### Validation

To be sure that everything works, we need to test access to AWS resources.

## Tear Down

To avoid possible costs, remove created resources:

* The ECS Cluster. Related services and tasks will be deleted automatically.
* The AWS resources from the guide used to create the NetBird Network, if you don't plan to use them.