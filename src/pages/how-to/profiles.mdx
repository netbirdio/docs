# Multiple Profiles in NetBird

NetBird now lets you keep **multiple profiles** on one device—perfect for switching between work, home, or any other network without fuss. Only **one** profile can be active at a time, but flipping between them takes just a single command or click.

## What Is a Profile?

A **profile** is your NetBird configuration bundle: WireGuard keys, login state, and network settings all in one file. Think of it as a separate “account” on your machine:

- **Default profile**  
  Created automatically on first run or after upgrade.  
- **Custom profiles**  
  Any number of additional profiles you add yourself (e.g. `work`, `home`, `test`).

Profiles live in your system or user config folders:

| OS     | System-wide path                  | User path                                             |
| ------ | --------------------------------- | ----------------------------------------------------- |
| Linux  | `/var/lib/netbird/profiles/...`   | `~/.config/netbird/<profile>.json`                    |
| macOS  | `/Library/Application Support/...`| `~/Library/Application Support/NetBird/<profile>.json`|
| Windows| `%ProgramData%\Netbird\profiles\` | `%APPDATA%\Netbird\<profile>.json`                    |

---

## Why Use Profiles?

- **Seamless switching** between multiple NetBird networks/accounts  
- **No manual file juggling**—all configs live side by side  
- **Persistent state**—your last active profile reconnects on startup  
- **Safe defaults**—cannot remove the active/default profile by accident

---

## Upgrading from a Single-Config Setup

If you’re upgrading from NetBird < vX.Y:

1. On first launch, your old `/etc/netbird/config.json` (or Windows equivalent) is copied to a **`default`** profile.  
2. That “default” profile becomes your starting point.  
3. All future configs use the new profiles system—you don’t need to move anything yourself.

---

## Profile Commands: CLI Quick-Start

All profile actions live under:
```bash
netbird profile <add|list|select|remove> [name]
````

### 1. Add a Profile

```bash
netbird profile add work
```

* Creates `work.json` in your config folder.
* Initially disconnected until you run `netbird up` or `netbird login`.
* **Error** if `work` already exists.

### 2. List Profiles

```bash
netbird profile list
```

```text
Found 3 profiles:
✓ work
✗ default
✗ home
```

* **✓** = active
* **✗** = inactive

### 3. Switch Profiles

```bash
netbird profile select home
```

* If `home` isn’t configured yet, you’ll see it “connected” but need to run `netbird up` or `netbird login` to finish setup.
* **Error** if `home` does not exist.

### 4. Remove a Profile

```bash
netbird profile remove test
```

* Deletes `test.json` and `test.state.json`.
* **Cannot** remove the **active** or **default** profile—must switch first.

---

### Using `--profile` Flags

You can target a profile directly when bringing up or logging in:

```bash
netbird up --profile work
netbird login --profile home
```

Under the hood, NetBird switches to the named profile then runs the command. If the profile is new, you’ll be prompted to authenticate.

---

## Profile Management in the Desktop UI

The NetBird desktop app now mirrors all CLI profile features.

### Tray Menu

1. Click the NetBird icon in your system tray/menu bar.
2. See a list of profiles with the **active one highlighted**.
3. Click another profile to switch.
4. Select **+ Add Profile…** to create a new one.

![Profile Menu Placeholder](./profile-menu.png)

### Manage Profiles Screen

* **Add** a new profile with a friendly name input.
* **Delete** any inactive profile (trash icon).
* **Active/default** profiles cannot be deleted—buttons are disabled or show an error.

![Manage Profiles Placeholder](./manage-profiles.png)

After creating or removing profiles, the CLI immediately reflects those changes, and vice versa—everything uses the same underlying config files.
