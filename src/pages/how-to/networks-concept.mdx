# Networks

With the `0.35.0` release, we are introducing a new concept in NetBird called `Networks`. This concept improves the administration of routed resources and provides greater visibility into what is shared with peers.

Below, we will review the essential concepts of Networks.

## Concepts
#### Networks
Networks are configuration containers that map your on-premise or cloud networks in a logical set of configurations, making it easier to manage and share routes with your peers based on your infrastructure.

#### Routing peers
One or more peers selected to route traffic from your NetBird peers to your Network resources. You can add as many routing peers as you need using single peers or groups to ensure high availability and load balancing.
You can define masquerading and priority for each routing peer.

<Note>
    Only Linux OS machines can be assigned as routing peers.
</Note>

#### Resources
Remote network resources that are routed via routing peers. They can be configured as single IP addresses, IP ranges, domain names, or wildcard domains (e.g., *.netbird.io) when enabling [DNS wildcard routing](#enable-dns-wildcard-routing).

See examples of resources below:
<p>
    <img src="/docs-static/img/how-to-guides/networks/resources-1.png" alt="resources" className="imagewrapper-big"/>
</p>
<Note>
  Support to exit nodes and site-2-site VPNs may become available in future releases. In the meantime you can use [Network routes](/how-to/routing-traffic-to-private-networks) add your exit-node routes and site2site routes.
</Note>

You can assign a Group to a resource that allows you to manage access control policies for the resources. See the image below with an example of the resource *.netbird.io:
<p>
    <img src="/docs-static/img/how-to-guides/networks/resources-2.png" alt="resource-group" className="imagewrapper"/>
</p>
#### Access control policies
Access control policies are rules that define which peers can access the resources in your network. You can create policies based on the source and destination groups, and the type of traffic allowed (e.g., TCP, UDP, ICMP).
The groups assigned to resources should always be placed in the destination input field of the policy.
The peers belonging to the source groups will receive the resources linked to the policy and the firewall rules will be applied according to what is defined.
See the example below with a policy that allows the group `berlin-office` to access the resource `*.netbird.io`:

<p>
    <img src="/docs-static/img/how-to-guides/networks/resource-acl-1.png" alt="resource-acl" className="imagewrapper-big"/>
</p>

<Note>
    Policies that for `domains` or `wildcard domains` that are applied to the peers of `IP ranges` might influence the access control for those peers since they have as destination ranges any IPs.
    Due to this, we recommend to create networks with routing peers dedicated to domain and wildcard domains to prevent unwanted access to take place. In the coming releases, we will provide a fix for that behavior.
</Note>

#### Enable DNS wildcard routing
When you configure wildcard domains as resources, you need to enable DNS wildcard routing. Which has an additional effect in comparison to the previous DNS routes behavior from Network routes; it switches the DNS resolution to the routing peer instead of the local client system.
This is also useful for regular DNS routes when you want to resolve the domain names using the routing peer's IP infrastructure, which will allow for more restricted access control rules in newer versions of the clients(**1**) and for the traffic to go to a near routing peer service.
<Note>
 (1) Support for more restricted rules will be available in future releases.
</Note>
You can enable DNS resolution on the routing peer by accessing your account `Settings` > `Networks` > Enable DNS wildcard routing. See example below:
<p>
    <img src="/docs-static/img/how-to-guides/networks/settings-1.png" alt="settings-acl" className="imagewrapper-big"/>
</p>

<Note>
    The `Enable DNS wildcard routing` is supported by routing peers and routing clients running version 0.35.0 or later.
    Once the feature is enabled, you may need to restart your routing peers and clients to apply the changes.
</Note>

## Differences between Networks and Network Routes

|                                                                           | Networks                                                                                                          | Network routes                                                                                                                      |
|---------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------|
| **Requires extra policy connecting routing peers to distribution peers?** | No, the connection is implied when a policy is added to control access to resources                               | Yes, the routing peers need to have a policy that connects them to peers in the distribution groups                                 |
| **Needs distribution groups?**                                            | No, the source groups in the policies define the distribution groups                                              | Yes, they need to be explicitly defined per network route configured                                                                |
| **Requires adding full sets of configurations per routed resource?**      | No, the routing peers in a Network are used to route all resources in that network                                | Yes, every network route needs to have a routing peer, distribution group, access control group, and the network range or DNS route |
| **Allows edit routed resources?**                                         | Yes, you can edit ranges or domains                                                                               | No, you can't edit IP ranges or DNS routes once created                                                                             |
| **Allows edit names?**                                                    | Yes, names are editable                                                                                           | No, names are defined once while creating the route                                                                                 |
| **Support to wildcard domains?**                                          | Yes, wildcard domains are supported                                                                               | No, network routes are limited to individual domains                                                                                |
| **Support for exit-nodes?**                                               | No, even though that exit-nodes can be linked to on-premises or cloud networks, they invalidate other resources   | Yes, but the same note is valid when using an exit-node to route other traffic to the same resources                                |
| **Support for site-2-site IP ranges routing?**                            | No, but support is planned                                                                                        | Yes, when you create a network route without access control groups                                                                  |


## Get started
<p float="center" >
    <Button name="button" className="button-5" onClick={() => window.open("https://netbird.io/pricing")}>Use NetBird</Button>
</p>

- Make sure to [star us on GitHub](https://github.com/netbirdio/netbird)
- Follow us [on Twitter](https://twitter.com/netbird)
- Join our [Slack Channel](https://join.slack.com/t/netbirdio/shared_invite/zt-2utg2ncdz-W7LEB6toRBLE1Jca37dYpg)
- NetBird [latest release](https://github.com/netbirdio/netbird/releases) on GitHub
