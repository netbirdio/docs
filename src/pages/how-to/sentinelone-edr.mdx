# Restrict Network Access with SentinelOne Singularityâ„¢

[SentinelOne Singularity](https://www.sentinelone.com/platform/) is an autonomous cybersecurity platform that provides
comprehensive endpoint protection, detection, and response capabilities. The SentinelOne agent runs on your devices (endpoints),
collecting and analyzing endpoint data to detect and respond to threats in real-time. The agent's presence on endpoints and the
security data it collects can be utilized to enforce access policies and limit network access according to the "health" status
of the endpoints.

The integration of NetBird with SentinelOne Singularity provides organizations with network security controls that allow
only IT-managed devices running SentinelOne to access the network. Additionally, the integration uses SentinelOne's threat
detection capabilities, enabling administrators to further limit network access based on the security posture of each device.

SentinelOne's endpoint protection provides real-time threat detection and automated response capabilities. By integrating with
SentinelOne Singularity, NetBird can ensure that only devices with active security monitoring and protection can access the network.

In this guide, we will walk you through the configuration steps to integrate SentinelOne Singularity with NetBird and use
endpoint security status to control network access for devices that meet your security requirements.

## Prerequisites

Before you start creating and configuring a SentinelOne integration, ensure that you have the following:
- A SentinelOne account with the permissions to create and manage API tokens.
  If you don't have the required permissions, ask your SentinelOne administrator to grant them to you.

## Create a SentinelOne API Token

- Navigate to your SentinelOne Management Console
- Go to **Settings** &raquo; **Users** &raquo; **Service Users**
- Click **Create Service User**
- Fill in the form:
  - Name: `NetBird Integration`
  - Description: (optional)
  - Expiration Date: Set your preferred expiration date
- Click **Next**
- Select Site and set Scope to **Viewer**
- Click **Create User**
- Copy the generated API token. You will need this token when configuring the integration in NetBird.
- Note your SentinelOne console URL from your browser's address bar (e.g., `https://your-tenant.sentinelone.net`)

## Configure a SentinelOne Integration in NetBird

- Navigate to the [Integrations &raquo; EDR](https://app.netbird.io/integrations?tab=edr) tab in the NetBird dashboard
- Click **Connect SentinelOne** to start the configuration wizard
<p>
    <img src="/docs-static/img/how-to-guides/endpoint-detection-and-response/sentinelone/getting-started.png" alt="edr-integrations" className="imagewrapper-big"/>
</p>
- Click on the `Get Started` button to initiate the integration process
- Enter your SentinelOne console URL (e.g., `https://your-tenant.sentinelone.net`) and click **Continue**

<p>
    <img src="/docs-static/img/how-to-guides/endpoint-detection-and-response/sentinelone/console-config.png" alt="edr-integrations" className="imagewrapper-big"/>
</p>

- Enter the API token you created in the previous step and click **Continue** to verify the connection

<p>
    <img src="/docs-static/img/how-to-guides/endpoint-detection-and-response/sentinelone/service-user.png" alt="edr-integrations" className="imagewrapper-big"/>
</p>

- Select the groups you want to apply the integration to
- Click **Connect** to complete the integration setup

<p>
    <img src="/docs-static/img/how-to-guides/endpoint-detection-and-response/sentinelone/group-config.png" alt="edr-integrations" className="imagewrapper-big"/>
</p>


<Note>
    The EDR check will apply only to machines in the selected groups and will require a running SentinelOne agent.
    You can also use groups [synchronized from your Identity Provider (IdP)](/how-to/idp-sync).
</Note>

- Select the compliance match criteria for the integration:
  - `Allowed Active Threats`: Maximum number of active threats allowed on a device to grant network access. By default is set to `0` to block devices with any active threats.
  - `Disk Encryption`: Whether disk encryption is enabled on the agent
  - `Firewall`: Whether the device firewall is enabled
  - `Block Infected Devices`: Prevent access for devices with active infections.
  - `Network Connectivity`:  Require active network connection to SentinelOne.
  - `Active Status`: SentinelOne agent must be active and reporting. This combine the sentinel one is active and operational state of the device // Current operation state of the agent (na - Not disabled  partially_disabled - Disabled and not rebooted by user, fully_disabled - Disabled completely by user, auto_fully_disabled - Disabled by SentinelOne, disabled_error - Agent disable error , db_corruption - Limited functionality agent db corrupted )
  - `Latest Agent Version`: SentinelOne agent should be running on the latest version.

<p>
    <img src="/docs-static/img/how-to-guides/endpoint-detection-and-response/sentinelone/compliance-config.png" alt="edr-integrations" className="imagewrapper-big"/>
</p>


- Configure the SentinelOne Sync Window by default is 24 hours. This defines the

<p>
    <img src="/docs-static/img/how-to-guides/endpoint-detection-and-response/sentinelone/sync-config.png" alt="edr-integrations" className="imagewrapper-big"/>
</p>


- Peers that have the SentinelOne agent installed and are actively monitored will be granted access to the network. 
  Peers without the agent will appear with an `Approval required` mark in the peers list and won't be able to access 
  the network until the agent is installed and reporting to SentinelOne.

<p>
    <img src="/docs-static/img/how-to-guides/edr-approval-required.png" alt="edr-approval-required" className="imagewrapper-big"/>
</p>

- Optional. You can experiment and see how the integration works by decommissioning or disconnecting agents in the SentinelOne console:
    - Navigate to the **Sentinels** page in the SentinelOne Management Console
    - Select an agent you want to test with
    - Click **Actions** and then **Decommission** (or wait for an agent to go offline)
    - After about a minute, the peer will be disconnected from the network and marked as `Approval required` in the NetBird dashboard.
    - To restore access, reactivate or reconnect the agent in SentinelOne

<Note>
    Netbird match the SentinelOne agent to the peer using the Serial Number of the device. You must ensure that each of your devices has a unique serial number.
</Note>
